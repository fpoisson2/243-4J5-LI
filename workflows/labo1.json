{
  "nodes": [
    {
      "id": 139,
      "slug": "start",
      "kind": "start",
      "display_name": "D√©but",
      "agent_key": null,
      "parent_slug": null,
      "position": 1,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "auto_start": true
      },
      "metadata": {
        "order": 1
      }
    },
    {
      "id": 140,
      "slug": "assistant-message-intro",
      "kind": "assistant_message",
      "display_name": "Introduction du laboratoire",
      "agent_key": null,
      "parent_slug": null,
      "position": 2,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "# Labo 1 ‚Äî Environnement de programmation distant pour objets connect√©s\n\nAujourd'hui, nous allons pr√©parer notre environnement de programmation.\n\nVoici l'architecture du syst√®me:\n\n```mermaid\ngraph TD\n    subgraph Zone_Client [\"üíª Poste de d√©veloppement\"]\n        Dev_PC[\"Terminal SSH + Navigateur\"]\n    end\n    subgraph Zone_Access [\"üîí Acc√®s s√©curis√©\"]\n        CF_ZT[\"Cloudflare Zero Trust\"]\n        CF_Tunnel[\"cloudflared\"]\n    end\n    subgraph Zone_Lab [\"üè† Lab On-Prem\"]\n        subgraph RPi5_Core [\"üçì Raspberry Pi 5\"]\n            SSHD[\"SSH Server\"]\n            subgraph Dev_Stack [\"üõ†Ô∏è Outils Dev\"]\n                Git_CLI[\"Git CLI\"]\n                Node_Gemini[\"Node + Gemini\"]\n                Python_Env[\"Python + evdev\"]\n                Arduino_CLI[\"Arduino CLI\"]\n            end\n        end\n        subgraph Lab_Devices [\"üì± P√©riph√©riques\"]\n            Touchscreen[\"√âcran tactile\"]\n            LilyGO_A7670G[\"LilyGO A7670G\"]\n        end\n    end\n    subgraph Zone_Cloud [\"‚òÅÔ∏è Services Cloud\"]\n        GitHub_SaaS[\"GitHub\"]\n        Gemini_API[\"Gemini API\"]\n    end\n    Dev_PC -->|\"HTTPS / SSH\"| CF_ZT\n    CF_ZT -->|\"Tunnel Cloudflare\"| CF_Tunnel\n    CF_Tunnel -->|\"TCP SSH :22\"| SSHD\n    SSHD --> Dev_Stack\n    Git_CLI -.->|\"git clone/pull/push\"| GitHub_SaaS\n    Node_Gemini -.->|\"API REST\"| Gemini_API\n    Python_Env -->|\"UI tactile\"| Touchscreen\n    Arduino_CLI -->|\"Flash USB\"| LilyGO_A7670G\n```\n\nCe diagramme illustre l'architecture compl√®te du laboratoire:\n- **Zone Client (vert):** Votre poste de d√©veloppement\n- **Zone d'acc√®s s√©curis√© (bleu):** Cloudflare Zero Trust et tunnel\n- **Zone Lab (gris):** Raspberry Pi 5 avec tous les outils et p√©riph√©riques IoT\n- **Zone Cloud (jaune):** Services externes (GitHub, Gemini API)\n\n---\n\n## üéí Mat√©riel requis\n\n- Clavier Raspberry Pi\n- Raspberry Pi 5\n- √âcran tactile pour Raspberry Pi 5\n- Alimentation USB-C pour Raspberry Pi 5\n- C√¢ble micro-USB pour clavier\n- Carte micro SD 64 GB\n- LilyGO A7670G avec antenne GPS et LTE\n- Plaquette de prototypage (breadboard)\n- LED rouge et LED verte\n- R√©sistances appropri√©es (220Œ© - 330Œ©)\n- Fils de connexion (jumper wires)\n- Carte SIM\n- C√¢ble USB-A √† USB-C\n\nVa chercher ton mat√©riel, et dis-moi quand tu es pr√™t √† passer √† la prochaine √©tape!",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 2
      }
    },
    {
      "id": 141,
      "slug": "widget-pret-materiel",
      "kind": "widget",
      "display_name": "Pr√™t avec le mat√©riel?",
      "agent_key": null,
      "parent_slug": null,
      "position": 3,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "J'ai tout le mat√©riel, je suis pr√™t!"
          }
        }
      },
      "metadata": {
        "order": 3
      }
    },
    {
      "id": 142,
      "slug": "condition-pret-materiel",
      "kind": "condition",
      "display_name": "V√©rification mat√©riel pr√™t",
      "agent_key": null,
      "parent_slug": null,
      "position": 4,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 4
      }
    },
    {
      "id": 143,
      "slug": "end-abandon-materiel",
      "kind": "end",
      "display_name": "Fin - Abandon mat√©riel",
      "agent_key": null,
      "parent_slug": null,
      "position": 5,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant pas pr√™t"
        },
        "message": "Reviens quand tu auras tout le mat√©riel!"
      },
      "metadata": {
        "order": 5
      }
    },
    {
      "id": 144,
      "slug": "assistant-message-question-rpi",
      "kind": "assistant_message",
      "display_name": "Question sur le Raspberry Pi",
      "agent_key": null,
      "parent_slug": null,
      "position": 6,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "Avant de commencer, r√©pondons √† cette question:\n\n### üìù Pourquoi utiliser un Raspberry Pi 5 comme poste de d√©veloppement IoT plut√¥t que votre PC portable?",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 6
      }
    },
    {
      "id": 145,
      "slug": "state-init-compteur-q1",
      "kind": "state",
      "display_name": "Initialisation compteur Q1",
      "agent_key": null,
      "parent_slug": null,
      "position": 7,
      "is_enabled": true,
      "parameters": {
        "state": [
          {
            "target": "state.compteur",
            "expression": "0"
          }
        ],
        "tools": null
      },
      "metadata": {
        "order": 7
      }
    },
    {
      "id": 146,
      "slug": "wait-reponse-q1",
      "kind": "wait_for_user_input",
      "display_name": "Attente r√©ponse Q1",
      "agent_key": null,
      "parent_slug": null,
      "position": 8,
      "is_enabled": true,
      "parameters": {
        "tools": null
      },
      "metadata": {
        "order": 8
      }
    },
    {
      "id": 147,
      "slug": "agent-eval-q1",
      "kind": "agent",
      "display_name": "√âvaluation r√©ponse Q1",
      "agent_key": null,
      "parent_slug": null,
      "position": 9,
      "is_enabled": true,
      "parameters": {
        "model": "gpt-5-nano",
        "instructions": "# R√¥le de l'agent\nTu es un √©valuateur. Tu ne r√©ponds pas √† la question, tu n'expliques rien et tu ne raisonnes pas √† voix haute.\nTu dois uniquement analyser **le dernier message de l'utilisateur** et produire un JSON strict.\n\n# Question pos√©e √† l'utilisateur\n¬´ Pourquoi utiliser un Raspberry Pi 5 comme poste de d√©veloppement IoT plut√¥t que votre PC portable ? ¬ª\n\n# Contexte attendu\n- Le Raspberry Pi est physiquement connect√© au microcontr√¥leur LilyGO.\n- Le code est d√©ploy√© **√† distance** sur ce device.\n- Le Raspberry Pi simule un **site IoT distant**, contrairement au PC portable.\n\n# Crit√®res pour une bonne r√©ponse\nLa r√©ponse doit mentionner, en ses propres mots :\n- l'importance de **programmer ou d√©boguer un objet connect√© √† distance** ;\n- le fait qu'un device IoT peut √™tre situ√© **n'importe o√π** ;\n- et que le Raspberry Pi permet de **simuler un site distant r√©el**.\n\n# R√®gles d'√©valuation\n- Si la r√©ponse respecte les crit√®res ‚Üí `\"ok\": true`\n- Sinon ‚Üí `\"ok\": false`\n\n# Important\n- **N'√©value que le dernier message utilisateur.**\n- **Ne r√©ponds jamais √† la place de l'utilisateur.**\n- **Ne fournis aucune explication ni analyse externe.**",
        "model_provider": "openai",
        "model_settings": {
          "text": {
            "verbosity": "low"
          },
          "reasoning": {
            "effort": "low"
          },
          "include_chat_history": true
        },
        "response_format": {
          "name": "workflow_output",
          "type": "json_schema",
          "schema": {
            "type": "object",
            "required": ["ok"],
            "properties": {
              "ok": {
                "type": "boolean",
                "description": "R√©ponse acceptable"
              }
            }
          },
          "strict": true
        },
        "model_provider_slug": "openai"
      },
      "metadata": {
        "order": 9
      }
    },
    {
      "id": 148,
      "slug": "condition-eval-q1",
      "kind": "condition",
      "display_name": "Bonne r√©ponse Q1?",
      "agent_key": null,
      "parent_slug": null,
      "position": 10,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.output_structured.ok",
        "tools": null
      },
      "metadata": {
        "order": 10
      }
    },
    {
      "id": 149,
      "slug": "state-incr-compteur-q1",
      "kind": "state",
      "display_name": "Incr√©mentation compteur Q1",
      "agent_key": null,
      "parent_slug": null,
      "position": 11,
      "is_enabled": true,
      "parameters": {
        "state": [
          {
            "target": "state.compteur",
            "expression": "(state.get('compteur', 0) or 0) + 1"
          }
        ],
        "tools": null
      },
      "metadata": {
        "order": 11
      }
    },
    {
      "id": 150,
      "slug": "condition-max-tentatives-q1",
      "kind": "condition",
      "display_name": "Maximum tentatives Q1?",
      "agent_key": null,
      "parent_slug": null,
      "position": 12,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "state.compteur",
        "tools": null
      },
      "metadata": {
        "order": 12
      }
    },
    {
      "id": 151,
      "slug": "assistant-message-appel-prof-q1",
      "kind": "assistant_message",
      "display_name": "Appel enseignant Q1",
      "agent_key": null,
      "parent_slug": null,
      "position": 13,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "Tu sembles avoir de la difficult√© avec cette question. Ton enseignant va venir t'aider.\n\nEntre le code de l'enseignant pour continuer:",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 13
      }
    },
    {
      "id": 152,
      "slug": "wait-code-prof-q1",
      "kind": "wait_for_user_input",
      "display_name": "Attente code enseignant Q1",
      "agent_key": null,
      "parent_slug": null,
      "position": 14,
      "is_enabled": true,
      "parameters": {
        "tools": null
      },
      "metadata": {
        "order": 14
      }
    },
    {
      "id": 153,
      "slug": "condition-code-prof-q1",
      "kind": "condition",
      "display_name": "Code enseignant correct Q1?",
      "agent_key": null,
      "parent_slug": null,
      "position": 15,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.user_message",
        "tools": null
      },
      "metadata": {
        "order": 15
      }
    },
    {
      "id": 154,
      "slug": "agent-retroaction-q1",
      "kind": "agent",
      "display_name": "R√©troaction Q1",
      "agent_key": null,
      "parent_slug": null,
      "position": 16,
      "is_enabled": true,
      "parameters": {
        "model": "gpt-5-nano",
        "instructions": "Aide l'utilisateur √† pr√©ciser sa r√©ponse concernant l'utilisation du Raspberry Pi comme poste de d√©veloppement IoT. Ne donne pas trop d'informations. Demande-lui de r√©essayer en d√©taillant le c√¥t√© des sites distants et de la programmation √† distance.",
        "model_provider": "openai",
        "model_settings": {
          "text": {
            "verbosity": "low"
          },
          "reasoning": {
            "effort": "low"
          },
          "include_chat_history": true
        },
        "model_provider_slug": "openai"
      },
      "metadata": {
        "order": 16
      }
    },
    {
      "id": 155,
      "slug": "assistant-message-q1-ok",
      "kind": "assistant_message",
      "display_name": "R√©ponse Q1 correcte",
      "agent_key": null,
      "parent_slug": null,
      "position": 17,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "Excellent! Tu as bien compris le concept.\n\nLe Raspberry Pi sert de **passerelle de d√©veloppement accessible √† distance**. Il simule un environnement professionnel o√π les appareils IoT sont souvent d√©ploy√©s dans des lieux difficiles d'acc√®s. Tu peux y acc√©der via SSH depuis n'importe o√π gr√¢ce √† Cloudflare Tunnel.\n\nPassons maintenant √† la premi√®re √©tape technique!",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 17
      }
    },
    {
      "id": 200,
      "slug": "assistant-message-section1",
      "kind": "assistant_message",
      "display_name": "Section 1: Installation Ubuntu Server",
      "agent_key": null,
      "parent_slug": null,
      "position": 20,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## 1. Installation Ubuntu Server\n\n### üí° Concepts cl√©s\n\n**Pourquoi Ubuntu Server et non Desktop?**\nUbuntu Server est une version all√©g√©e de Linux sans interface graphique. Pour un appareil IoT:\n- **Moins de ressources:** Plus de RAM et CPU disponibles pour vos applications\n- **Plus stable:** Moins de services en arri√®re-plan\n- **Acc√®s √† distance naturel:** Con√ßu pour √™tre administr√© via SSH\n\n**Importance de SSH d√®s le d√©part:**\nSSH (Secure Shell) est le protocole qui vous permettra de contr√¥ler le Raspberry Pi √† distance via la ligne de commande.\n\n---\n\n### Pr√©paration de la carte SD\n\n1. Installer Ubuntu Server (derni√®re version LTS) sur le Raspberry Pi 5\n   - Utilisez **Raspberry Pi Imager** disponible sur [raspberrypi.com](https://www.raspberrypi.com/software/)\n   - S√©lectionnez: `Other general-purpose OS ‚Üí Ubuntu ‚Üí Ubuntu Server 24.04 LTS (64-bit)`\n\n2. Lors de la pr√©paration de la carte micro-SD:\n   - **Activer SSH** ‚úì (crucial pour l'acc√®s √† distance)\n   - **Configurer username, password et hostname**\n\n3. Installer l'√©cran sur le Raspberry Pi 5 (suivre les instructions du fabricant)\n\n4. Brancher le clavier sur le Raspberry Pi 5 (port USB)\n\n**Premier d√©marrage:**\n- Au premier boot, Ubuntu va finaliser l'installation (2-3 minutes)\n- Attendez l'invite de connexion: `ubuntu login:`\n- Connectez-vous avec le username/password configur√©s\n\n---\n\nInstalle Ubuntu Server sur ta carte SD et d√©marre ton Raspberry Pi. Dis-moi quand c'est fait!",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 20
      }
    },
    {
      "id": 201,
      "slug": "widget-section1-done",
      "kind": "widget",
      "display_name": "Ubuntu install√©?",
      "agent_key": null,
      "parent_slug": null,
      "position": 21,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "Ubuntu Server est install√© et je suis connect√©!"
          }
        }
      },
      "metadata": {
        "order": 21
      }
    },
    {
      "id": 202,
      "slug": "condition-section1-done",
      "kind": "condition",
      "display_name": "Ubuntu install√©?",
      "agent_key": null,
      "parent_slug": null,
      "position": 22,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 22
      }
    },
    {
      "id": 203,
      "slug": "end-section1-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Section 1",
      "agent_key": null,
      "parent_slug": null,
      "position": 23,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand Ubuntu sera install√©!"
      },
      "metadata": {
        "order": 23
      }
    },
    {
      "id": 210,
      "slug": "assistant-message-section2",
      "kind": "assistant_message",
      "display_name": "Section 2: Configuration r√©seau",
      "agent_key": null,
      "parent_slug": null,
      "position": 30,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## 2. Configuration r√©seau\n\n### üí° Concepts cl√©s\n\n**Netplan : le gestionnaire r√©seau d'Ubuntu**\nUbuntu utilise **Netplan**, un outil de configuration r√©seau bas√© sur des fichiers YAML.\n\n**IP statique vs DHCP:**\n- **DHCP:** Le routeur attribue automatiquement une adresse IP qui peut changer\n- **IP statique:** Vous choisissez une adresse IP fixe qui ne change jamais\n\nPour un appareil IoT, une **IP statique** est pr√©f√©rable car vous savez toujours comment le joindre.\n\n---\n\n### 2.1 Adresse IP statique (Ethernet)\n\n```bash\nsudo nano /etc/netplan/01-ethernet.yaml\n```\n\nContenu:\n```yaml\nnetwork:\n  version: 2\n  renderer: networkd\n  ethernets:\n    eth0:\n      dhcp4: false\n      addresses:\n        - 192.168.1.9/24\n      gateway4: 192.168.1.1\n      nameservers:\n        addresses:\n          - 1.1.1.1\n          - 8.8.8.8\n```\n\n**Configuration en connexion directe PC ‚Üî RPi:**\n- **Raspberry Pi:** 192.168.1.9/24\n- **Votre PC:** 192.168.1.10/24 (√† configurer sur votre PC)\n\nAppliquer:\n```bash\nsudo netplan apply\n```\n\nV√©rification:\n```bash\nip a\nping 1.1.1.1\n```\n\n---\n\n### 2.2 Configuration WiFi WPA-EAP (R√©seau C√©gep)\n\n```bash\nsudo nano /etc/netplan/01-wifi.yaml\n```\n\n```yaml\nnetwork:\n  version: 2\n  renderer: networkd\n  wifis:\n    wlan0:\n      dhcp4: true\n      access-points:\n        \"MonSSID\":\n          mode: infrastructure\n          auth:\n            key-management: wpa-eap\n            eap-method: peap\n            identity: \"mon_user\"\n            password: \"mon_password\"\n            phase2-auth: mschapv2\n```\n\n**S√©curit√©:** Prot√©gez le fichier:\n```bash\nsudo chmod 600 /etc/netplan/01-wifi.yaml\n```\n\nConfigure ton r√©seau et dis-moi quand c'est fait!",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 30
      }
    },
    {
      "id": 211,
      "slug": "widget-section2-done",
      "kind": "widget",
      "display_name": "R√©seau configur√©?",
      "agent_key": null,
      "parent_slug": null,
      "position": 31,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "Le r√©seau est configur√©!"
          }
        }
      },
      "metadata": {
        "order": 31
      }
    },
    {
      "id": 212,
      "slug": "condition-section2-done",
      "kind": "condition",
      "display_name": "R√©seau configur√©?",
      "agent_key": null,
      "parent_slug": null,
      "position": 32,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 32
      }
    },
    {
      "id": 213,
      "slug": "end-section2-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Section 2",
      "agent_key": null,
      "parent_slug": null,
      "position": 33,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand le r√©seau sera configur√©!"
      },
      "metadata": {
        "order": 33
      }
    },
    {
      "id": 214,
      "slug": "assistant-message-question-reseau",
      "kind": "assistant_message",
      "display_name": "Question sur le r√©seau",
      "agent_key": null,
      "parent_slug": null,
      "position": 34,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "### üìù Question de compr√©hension\n\nQuelle est la diff√©rence entre une IP statique et DHCP, et pourquoi utiliser une IP statique pour un appareil IoT?",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 34
      }
    },
    {
      "id": 215,
      "slug": "state-init-compteur-q2",
      "kind": "state",
      "display_name": "Init compteur Q2",
      "agent_key": null,
      "parent_slug": null,
      "position": 35,
      "is_enabled": true,
      "parameters": {
        "state": [
          {
            "target": "state.compteur",
            "expression": "0"
          }
        ],
        "tools": null
      },
      "metadata": {
        "order": 35
      }
    },
    {
      "id": 216,
      "slug": "wait-reponse-q2",
      "kind": "wait_for_user_input",
      "display_name": "Attente r√©ponse Q2",
      "agent_key": null,
      "parent_slug": null,
      "position": 36,
      "is_enabled": true,
      "parameters": {
        "tools": null
      },
      "metadata": {
        "order": 36
      }
    },
    {
      "id": 217,
      "slug": "agent-eval-q2",
      "kind": "agent",
      "display_name": "√âvaluation Q2",
      "agent_key": null,
      "parent_slug": null,
      "position": 37,
      "is_enabled": true,
      "parameters": {
        "model": "gpt-5-nano",
        "instructions": "# R√¥le\nTu es un √©valuateur. Produis uniquement un JSON strict.\n\n# Question\n¬´ Quelle est la diff√©rence entre une IP statique et DHCP, et pourquoi utiliser une IP statique pour un appareil IoT? ¬ª\n\n# Crit√®res\nLa r√©ponse doit mentionner:\n- DHCP attribue une IP automatiquement qui peut changer\n- IP statique est une adresse fixe qui ne change pas\n- Pour IoT: on sait toujours comment joindre l'appareil / facilite SSH / configuration pr√©visible\n\n# R√®gles\n- Si correct ‚Üí `\"ok\": true`\n- Sinon ‚Üí `\"ok\": false`",
        "model_provider": "openai",
        "model_settings": {
          "text": { "verbosity": "low" },
          "reasoning": { "effort": "low" },
          "include_chat_history": true
        },
        "response_format": {
          "name": "workflow_output",
          "type": "json_schema",
          "schema": {
            "type": "object",
            "required": ["ok"],
            "properties": {
              "ok": { "type": "boolean" }
            }
          },
          "strict": true
        },
        "model_provider_slug": "openai"
      },
      "metadata": {
        "order": 37
      }
    },
    {
      "id": 218,
      "slug": "condition-eval-q2",
      "kind": "condition",
      "display_name": "Bonne r√©ponse Q2?",
      "agent_key": null,
      "parent_slug": null,
      "position": 38,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.output_structured.ok",
        "tools": null
      },
      "metadata": {
        "order": 38
      }
    },
    {
      "id": 219,
      "slug": "state-incr-compteur-q2",
      "kind": "state",
      "display_name": "Incr√©mentation compteur Q2",
      "agent_key": null,
      "parent_slug": null,
      "position": 39,
      "is_enabled": true,
      "parameters": {
        "state": [
          {
            "target": "state.compteur",
            "expression": "(state.get('compteur', 0) or 0) + 1"
          }
        ],
        "tools": null
      },
      "metadata": {
        "order": 39
      }
    },
    {
      "id": 220,
      "slug": "condition-max-tentatives-q2",
      "kind": "condition",
      "display_name": "Max tentatives Q2?",
      "agent_key": null,
      "parent_slug": null,
      "position": 40,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "state.compteur",
        "tools": null
      },
      "metadata": {
        "order": 40
      }
    },
    {
      "id": 221,
      "slug": "assistant-message-appel-prof-q2",
      "kind": "assistant_message",
      "display_name": "Appel enseignant Q2",
      "agent_key": null,
      "parent_slug": null,
      "position": 41,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "Tu sembles avoir de la difficult√©. Ton enseignant va venir t'aider.\n\nEntre le code de l'enseignant pour continuer:",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 41
      }
    },
    {
      "id": 222,
      "slug": "wait-code-prof-q2",
      "kind": "wait_for_user_input",
      "display_name": "Attente code Q2",
      "agent_key": null,
      "parent_slug": null,
      "position": 42,
      "is_enabled": true,
      "parameters": {
        "tools": null
      },
      "metadata": {
        "order": 42
      }
    },
    {
      "id": 223,
      "slug": "condition-code-prof-q2",
      "kind": "condition",
      "display_name": "Code correct Q2?",
      "agent_key": null,
      "parent_slug": null,
      "position": 43,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.user_message",
        "tools": null
      },
      "metadata": {
        "order": 43
      }
    },
    {
      "id": 224,
      "slug": "agent-retroaction-q2",
      "kind": "agent",
      "display_name": "R√©troaction Q2",
      "agent_key": null,
      "parent_slug": null,
      "position": 44,
      "is_enabled": true,
      "parameters": {
        "model": "gpt-5-nano",
        "instructions": "Aide l'utilisateur √† pr√©ciser sa r√©ponse sur la diff√©rence entre IP statique et DHCP. Donne un indice sans donner la r√©ponse compl√®te.",
        "model_provider": "openai",
        "model_settings": {
          "text": { "verbosity": "low" },
          "reasoning": { "effort": "low" },
          "include_chat_history": true
        },
        "model_provider_slug": "openai"
      },
      "metadata": {
        "order": 44
      }
    },
    {
      "id": 225,
      "slug": "assistant-message-q2-ok",
      "kind": "assistant_message",
      "display_name": "R√©ponse Q2 correcte",
      "agent_key": null,
      "parent_slug": null,
      "position": 45,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "Parfait! Tu as bien compris la diff√©rence entre IP statique et DHCP.\n\nPassons maintenant √† la configuration de l'acc√®s distant s√©curis√©!",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 45
      }
    },
    {
      "id": 300,
      "slug": "assistant-message-section3",
      "kind": "assistant_message",
      "display_name": "Section 3: Cloudflare Tunnel",
      "agent_key": null,
      "parent_slug": null,
      "position": 50,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## 3. Connexion √† distance via Cloudflare Tunnel\n\n### üí° Concepts cl√©s\n\n**Pourquoi un tunnel Cloudflare au lieu de l'exposition de ports?**\n\nDans une configuration classique, pour acc√©der √† votre Raspberry Pi depuis l'ext√©rieur:\n1. Ouvrir le port 22 (SSH) sur votre routeur\n2. Conna√Ætre votre IP publique (qui change souvent)\n3. Exposer directement votre appareil √† Internet\n\n**Probl√®mes:**\n- Exposition directe aux attaques\n- IP dynamique qui change\n- Impossible derri√®re un r√©seau d'entreprise/C√©gep\n\n**Solution: Cloudflare Tunnel**\n\nCloudflare Tunnel cr√©e une **connexion sortante s√©curis√©e** de votre Raspberry Pi vers Cloudflare. **Aucun port √† ouvrir!**\n\n```\nVotre PC ‚Üí Cloudflare Edge ‚Üí Tunnel chiffr√© ‚Üí Raspberry Pi\n```\n\n**Avantages:**\n- ‚úÖ Aucun port ouvert\n- ‚úÖ Fonctionne derri√®re NAT strict\n- ‚úÖ Authentification robuste via Zero Trust\n- ‚úÖ Logs d'acc√®s d√©taill√©s\n\n---\n\n### Configuration\n\n**1. Pr√©requis:**\n- Compte Cloudflare gratuit\n- Nom de domaine public\n\n**2. Sur le Raspberry Pi:**\n```bash\ncloudflared login\ncloudflared tunnel create rpi-ssh\n```\n\n**3. Cr√©er config.yml:**\n```yaml\ntunnel: <TON-UUID-ICI>\ncredentials-file: /home/fpoisson/.cloudflared/<TON-UUID-ICI>.json\n\ningress:\n  - hostname: rpi.edxo.ca\n    service: ssh://localhost:22\n  - service: http_status:404\n```\n\n**4. Lier au DNS:**\n```bash\ncloudflared tunnel route dns rpi-ssh rpi.edxo.ca\n```\n\n**5. Tester et installer le service:**\n```bash\ncloudflared tunnel run rpi-ssh\nsudo cloudflared service install\n```\n\n**6. Configuration SSH locale (sur votre PC):**\n```\nHost rpi\n  HostName rpi.edxo.ca\n  User fpoisson\n  ProxyCommand cloudflared access ssh --hostname %h\n```\n\n**7. Se connecter:**\n```bash\nssh rpi\n```\n\nConfigure Cloudflare Tunnel et dis-moi quand c'est fait!",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 50
      }
    },
    {
      "id": 301,
      "slug": "widget-section3-done",
      "kind": "widget",
      "display_name": "Tunnel configur√©?",
      "agent_key": null,
      "parent_slug": null,
      "position": 51,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "Le tunnel Cloudflare est configur√© et je peux me connecter en SSH!"
          }
        }
      },
      "metadata": {
        "order": 51
      }
    },
    {
      "id": 302,
      "slug": "condition-section3-done",
      "kind": "condition",
      "display_name": "Tunnel configur√©?",
      "agent_key": null,
      "parent_slug": null,
      "position": 52,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 52
      }
    },
    {
      "id": 303,
      "slug": "end-section3-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Section 3",
      "agent_key": null,
      "parent_slug": null,
      "position": 53,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand le tunnel sera configur√©!"
      },
      "metadata": {
        "order": 53
      }
    },
    {
      "id": 304,
      "slug": "assistant-message-question-zerotrust",
      "kind": "assistant_message",
      "display_name": "Question Zero Trust",
      "agent_key": null,
      "parent_slug": null,
      "position": 54,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "### üìù Question de compr√©hension\n\nQu'est-ce que le mod√®le \"Zero Trust\" et pourquoi est-il plus s√©curitaire que l'exposition directe des ports?",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 54
      }
    },
    {
      "id": 305,
      "slug": "state-init-compteur-q3",
      "kind": "state",
      "display_name": "Init compteur Q3",
      "agent_key": null,
      "parent_slug": null,
      "position": 55,
      "is_enabled": true,
      "parameters": {
        "state": [
          {
            "target": "state.compteur",
            "expression": "0"
          }
        ],
        "tools": null
      },
      "metadata": {
        "order": 55
      }
    },
    {
      "id": 306,
      "slug": "wait-reponse-q3",
      "kind": "wait_for_user_input",
      "display_name": "Attente r√©ponse Q3",
      "agent_key": null,
      "parent_slug": null,
      "position": 56,
      "is_enabled": true,
      "parameters": {
        "tools": null
      },
      "metadata": {
        "order": 56
      }
    },
    {
      "id": 307,
      "slug": "agent-eval-q3",
      "kind": "agent",
      "display_name": "√âvaluation Q3",
      "agent_key": null,
      "parent_slug": null,
      "position": 57,
      "is_enabled": true,
      "parameters": {
        "model": "gpt-5-nano",
        "instructions": "# R√¥le\n√âvaluateur. Produis uniquement un JSON strict.\n\n# Question\n¬´ Qu'est-ce que le mod√®le Zero Trust et pourquoi est-il plus s√©curitaire? ¬ª\n\n# Crit√®res\nLa r√©ponse doit mentionner:\n- Zero Trust = ne jamais faire confiance, toujours v√©rifier\n- Authentification requise m√™me si on conna√Æt l'URL\n- Pas de ports ouverts = moins de surface d'attaque\n- Connexion sortante au lieu d'entrante\n\n# R√®gles\n- Si correct ‚Üí `\"ok\": true`\n- Sinon ‚Üí `\"ok\": false`",
        "model_provider": "openai",
        "model_settings": {
          "text": { "verbosity": "low" },
          "reasoning": { "effort": "low" },
          "include_chat_history": true
        },
        "response_format": {
          "name": "workflow_output",
          "type": "json_schema",
          "schema": {
            "type": "object",
            "required": ["ok"],
            "properties": {
              "ok": { "type": "boolean" }
            }
          },
          "strict": true
        },
        "model_provider_slug": "openai"
      },
      "metadata": {
        "order": 57
      }
    },
    {
      "id": 308,
      "slug": "condition-eval-q3",
      "kind": "condition",
      "display_name": "Bonne r√©ponse Q3?",
      "agent_key": null,
      "parent_slug": null,
      "position": 58,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.output_structured.ok",
        "tools": null
      },
      "metadata": {
        "order": 58
      }
    },
    {
      "id": 309,
      "slug": "state-incr-compteur-q3",
      "kind": "state",
      "display_name": "Incr√©mentation compteur Q3",
      "agent_key": null,
      "parent_slug": null,
      "position": 59,
      "is_enabled": true,
      "parameters": {
        "state": [
          {
            "target": "state.compteur",
            "expression": "(state.get('compteur', 0) or 0) + 1"
          }
        ],
        "tools": null
      },
      "metadata": {
        "order": 59
      }
    },
    {
      "id": 310,
      "slug": "condition-max-tentatives-q3",
      "kind": "condition",
      "display_name": "Max tentatives Q3?",
      "agent_key": null,
      "parent_slug": null,
      "position": 60,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "state.compteur",
        "tools": null
      },
      "metadata": {
        "order": 60
      }
    },
    {
      "id": 311,
      "slug": "assistant-message-appel-prof-q3",
      "kind": "assistant_message",
      "display_name": "Appel enseignant Q3",
      "agent_key": null,
      "parent_slug": null,
      "position": 61,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "Tu sembles avoir de la difficult√©. Ton enseignant va venir t'aider.\n\nEntre le code de l'enseignant pour continuer:",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 61
      }
    },
    {
      "id": 312,
      "slug": "wait-code-prof-q3",
      "kind": "wait_for_user_input",
      "display_name": "Attente code Q3",
      "agent_key": null,
      "parent_slug": null,
      "position": 62,
      "is_enabled": true,
      "parameters": {
        "tools": null
      },
      "metadata": {
        "order": 62
      }
    },
    {
      "id": 313,
      "slug": "condition-code-prof-q3",
      "kind": "condition",
      "display_name": "Code correct Q3?",
      "agent_key": null,
      "parent_slug": null,
      "position": 63,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.user_message",
        "tools": null
      },
      "metadata": {
        "order": 63
      }
    },
    {
      "id": 314,
      "slug": "agent-retroaction-q3",
      "kind": "agent",
      "display_name": "R√©troaction Q3",
      "agent_key": null,
      "parent_slug": null,
      "position": 64,
      "is_enabled": true,
      "parameters": {
        "model": "gpt-5-nano",
        "instructions": "Aide l'utilisateur √† comprendre le mod√®le Zero Trust. Donne un indice sur le principe de 'ne jamais faire confiance' sans donner la r√©ponse compl√®te.",
        "model_provider": "openai",
        "model_settings": {
          "text": { "verbosity": "low" },
          "reasoning": { "effort": "low" },
          "include_chat_history": true
        },
        "model_provider_slug": "openai"
      },
      "metadata": {
        "order": 64
      }
    },
    {
      "id": 315,
      "slug": "assistant-message-q3-ok",
      "kind": "assistant_message",
      "display_name": "R√©ponse Q3 correcte",
      "agent_key": null,
      "parent_slug": null,
      "position": 65,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "Excellent! Tu as bien compris le mod√®le Zero Trust.\n\nPassons maintenant √† la configuration de Git!",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 65
      }
    },
    {
      "id": 400,
      "slug": "assistant-message-section4",
      "kind": "assistant_message",
      "display_name": "Section 4: Configuration Git",
      "agent_key": null,
      "parent_slug": null,
      "position": 70,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## 4. Configuration Git\n\n### üí° Concepts cl√©s\n\nGit est un syst√®me de **contr√¥le de version** qui sauvegarde l'historique complet de votre code. Pour des projets IoT sur Raspberry Pi, c'est essentiel pour synchroniser votre code entre GitHub et votre appareil distant.\n\n---\n\n### 4.1 Cr√©ation du compte GitHub et token d'acc√®s\n\n1. Cr√©ez un compte sur [github.com](https://github.com)\n2. Allez dans **Settings ‚Üí Developer settings ‚Üí Personal access tokens ‚Üí Tokens (classic)**\n3. Cliquez sur **Generate new token (classic)**\n4. Configurez:\n   - **Note:** `Raspberry Pi - 243-4J5-LI`\n   - **Expiration:** 90 days\n   - **Scopes:** Cochez `repo`\n5. **‚ö†Ô∏è Copiez le token imm√©diatement!**\n\n---\n\n### 4.2 Configuration Git sur le Raspberry Pi\n\n```bash\ngit config --global user.name \"Votre Nom\"\ngit config --global user.email \"votre.email@example.com\"\ngit config --global credential.helper store\n```\n\n### 4.3 Cloner le d√©p√¥t du cours\n\n```bash\ncd ~\ngit clone https://github.com/fpoisson2/243-4J5-LI.git\ncd 243-4J5-LI\n```\n\nLors du premier clone:\n- **Username:** Votre nom d'utilisateur GitHub\n- **Password:** Collez votre **token** (pas votre mot de passe!)\n\n### 4.4 Cr√©er votre branche personnelle\n\n```bash\ngit checkout -b prenom-nom/labo1\n```\n\n### 4.5 Workflow Git de base\n\n```bash\ngit status                        # Voir les changements\ngit add .                         # Ajouter les modifications\ngit commit -m \"Description\"       # Cr√©er un commit\ngit push origin prenom-nom/labo1  # Pousser vers GitHub\n```\n\nConfigure Git et clone le d√©p√¥t du cours. Dis-moi quand c'est fait!",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 70
      }
    },
    {
      "id": 401,
      "slug": "widget-section4-done",
      "kind": "widget",
      "display_name": "Git configur√©?",
      "agent_key": null,
      "parent_slug": null,
      "position": 71,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "Git est configur√© et j'ai clon√© le d√©p√¥t!"
          }
        }
      },
      "metadata": {
        "order": 71
      }
    },
    {
      "id": 402,
      "slug": "condition-section4-done",
      "kind": "condition",
      "display_name": "Git configur√©?",
      "agent_key": null,
      "parent_slug": null,
      "position": 72,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 72
      }
    },
    {
      "id": 403,
      "slug": "end-section4-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Section 4",
      "agent_key": null,
      "parent_slug": null,
      "position": 73,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand Git sera configur√©!"
      },
      "metadata": {
        "order": 73
      }
    },
    {
      "id": 500,
      "slug": "assistant-message-section5",
      "kind": "assistant_message",
      "display_name": "Section 5: Interface tactile",
      "agent_key": null,
      "parent_slug": null,
      "position": 80,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## 5. Interface tactile distante en mode console\n\n### üí° Concepts cl√©s\n\n**Interface tactile SANS serveur X (mode texte uniquement):**\n\nCe projet montre comment cr√©er une interface **interactive et tactile** directement dans la console, sans installer de serveur graphique. Parfait pour:\n- Des appareils embarqu√©s avec ressources limit√©es\n- Des tableaux de bord minimalistes sur √©crans tactiles\n- Des interfaces de contr√¥le rapides\n\n**Biblioth√®ques utilis√©es:**\n- **`curses`:** Positionner du texte, ajouter des couleurs, cr√©er des \"fen√™tres\" en mode texte\n- **`evdev`:** Lire directement les √©v√©nements du p√©riph√©rique tactile\n\n---\n\n### 5.1 Code pr√™t √† l'emploi\n\nLe script se trouve dans `~/243-4J5-LI/labo1/code/touch_ui.py`.\n- Affiche trois boutons (STATUS, LOGS, QUIT)\n- R√©agit aux taps du panneau tactile\n- `q` ou le bouton **QUIT** ferment l'application\n\n### 5.2 D√©pendances\n\n```bash\nsudo apt update\nsudo apt install -y python3 python3-evdev\n```\n\n### 5.3 Lancer l'UI sur l'√©cran distant\n\nDepuis une session SSH:\n```bash\nsudo chvt 1\nsudo setsid sh -c 'exec </dev/tty1 >/dev/tty1 2>&1 python3 /home/fpoisson/243-4J5-LI/labo1/code/touch_ui.py'\n```\n\nPour tuer le processus si n√©cessaire:\n```bash\nsudo pkill python3\n```\n\n---\n\nInstalle les d√©pendances et teste l'interface tactile. Dis-moi quand c'est fait!",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 80
      }
    },
    {
      "id": 501,
      "slug": "widget-section5-done",
      "kind": "widget",
      "display_name": "Interface tactile test√©e?",
      "agent_key": null,
      "parent_slug": null,
      "position": 81,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "L'interface tactile fonctionne!"
          }
        }
      },
      "metadata": {
        "order": 81
      }
    },
    {
      "id": 502,
      "slug": "condition-section5-done",
      "kind": "condition",
      "display_name": "Interface tactile OK?",
      "agent_key": null,
      "parent_slug": null,
      "position": 82,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 82
      }
    },
    {
      "id": 503,
      "slug": "end-section5-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Section 5",
      "agent_key": null,
      "parent_slug": null,
      "position": 83,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand l'interface tactile sera test√©e!"
      },
      "metadata": {
        "order": 83
      }
    },
    {
      "id": 600,
      "slug": "assistant-message-section6",
      "kind": "assistant_message",
      "display_name": "Section 6: Node.js et Gemini CLI",
      "agent_key": null,
      "parent_slug": null,
      "position": 90,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## 6. Installation Node.js et outils CLI\n\n### üí° Concepts cl√©s\n\n**Pourquoi Node.js dans un projet IoT?**\n- npm: acc√®s √† des milliers de biblioth√®ques\n- Asynchrone par nature: parfait pour plusieurs connexions\n- L√©ger: peut tourner sur Raspberry Pi\n\n**NVM (Node Version Manager):**\n- Installez N'IMPORTE quelle version de Node\n- Basculez entre versions facilement\n- Pas besoin de `sudo`\n\n**Gemini CLI:**\nAssistant IA pour le d√©veloppement. Peut **ex√©cuter des commandes syst√®me** pour vous: compiler Arduino, acc√©der au port s√©rie, lancer Git, etc.\n\n---\n\n### 6.1 Installation de base\n\n```bash\nsudo apt install npm\n```\n\n### 6.2 Configuration NVM\n\n```bash\nexport NVM_DIR=\"$HOME/.nvm\"\n[ -s \"$NVM_DIR/nvm.sh\" ] && . \"$NVM_DIR/nvm.sh\"\n\nnvm install 22\nnvm use 22\n\nnode -v    # Devrait afficher v22.x.x\nnpm -v\n```\n\n### 6.3 Installation Gemini CLI\n\n```bash\nnpm install -g @google/gemini-cli\ngemini --help\n```\n\n### 6.4 Exercice pratique avec Gemini CLI\n\n1. Naviguez vers votre code:\n```bash\ncd ~/243-4J5-LI/labo1/code\ngemini\n```\n\n2. Demandez √† Gemini d'ajouter une fonctionnalit√©:\n   - \"Ajoute un quatri√®me bouton 'REBOOT' qui affiche un message de confirmation\"\n   - \"Ajoute des couleurs diff√©rentes pour chaque bouton\"\n\n3. Testez le code modifi√© et sauvegardez avec Git:\n```bash\ngit add .\ngit commit -m \"Ajout de fonctionnalit√© via Gemini\"\ngit push origin prenom-nom/labo1\n```\n\n---\n\nInstalle Node.js et Gemini CLI, puis utilise Gemini pour am√©liorer l'interface tactile. Dis-moi quand c'est fait!",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 90
      }
    },
    {
      "id": 601,
      "slug": "widget-section6-done",
      "kind": "widget",
      "display_name": "Node.js et Gemini install√©s?",
      "agent_key": null,
      "parent_slug": null,
      "position": 91,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "Node.js et Gemini sont install√©s et j'ai am√©lior√© l'interface!"
          }
        }
      },
      "metadata": {
        "order": 91
      }
    },
    {
      "id": 602,
      "slug": "condition-section6-done",
      "kind": "condition",
      "display_name": "Section 6 OK?",
      "agent_key": null,
      "parent_slug": null,
      "position": 92,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 92
      }
    },
    {
      "id": 603,
      "slug": "end-section6-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Section 6",
      "agent_key": null,
      "parent_slug": null,
      "position": 93,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand Node.js et Gemini seront install√©s!"
      },
      "metadata": {
        "order": 93
      }
    },
    {
      "id": 700,
      "slug": "assistant-message-section7",
      "kind": "assistant_message",
      "display_name": "Section 7: Programmation LilyGO",
      "agent_key": null,
      "parent_slug": null,
      "position": 100,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## 7. Programmation du LilyGO A7670G\n\n### üí° Concepts cl√©s\n\n**Qu'est-ce que le LilyGO A7670G?**\n- **ESP32:** Microcontr√¥leur WiFi/Bluetooth\n- **A7670G:** Modem cellulaire 4G LTE Cat-1\n- **GPS:** R√©cepteur GNSS pour la g√©olocalisation\n\n**Pourquoi Arduino CLI?**\nL'IDE Arduino est graphique. Sur Raspberry Pi en mode serveur (sans interface graphique), vous utilisez Arduino CLI pour:\n- Compiler des sketches depuis SSH\n- T√©l√©verser du code vers l'ESP32 via USB\n- Installer des biblioth√®ques\n\n**Flux de programmation:**\n```\nVotre PC ‚Üí (SSH) ‚Üí Raspberry Pi ‚Üí (USB) ‚Üí ESP32\n```\n\n---\n\n### 7.1 Installation Arduino CLI\n\n```bash\ncd ~\ncurl -fsSL https://raw.githubusercontent.com/arduino/arduino-cli/master/install.sh | sh\necho 'export PATH=$PATH:$HOME/bin' >> ~/.bashrc\nsource ~/.bashrc\narduino-cli version\narduino-cli config init\narduino-cli core update-index\n```\n\n### 7.2 Configuration pour ESP32\n\n```bash\narduino-cli config add board_manager.additional_urls https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json\narduino-cli core update-index\narduino-cli core install esp32:esp32\n```\n\n### 7.3 Biblioth√®ques requises\n\n```bash\narduino-cli lib install \"TinyGSM\"\narduino-cli lib install \"ArduinoJson\"\narduino-cli lib install \"PubSubClient\"\nsudo apt install -y python3-serial\n```\n\n### 7.4 Premier programme\n\n```bash\nmkdir -p ~/243-4J5-LI/labo1/lilygo-test\ncd ~/243-4J5-LI/labo1/lilygo-test\nnano lilygo-test.ino\n```\n\nCode:\n```cpp\n#define LED_PIN 12\n\nvoid setup() {\n  Serial.begin(115200);\n  pinMode(LED_PIN, OUTPUT);\n  Serial.println(\"LilyGO A7670G - Test\");\n}\n\nvoid loop() {\n  digitalWrite(LED_PIN, HIGH);\n  Serial.println(\"LED ON\");\n  delay(1000);\n  digitalWrite(LED_PIN, LOW);\n  Serial.println(\"LED OFF\");\n  delay(1000);\n}\n```\n\n### 7.5 Compilation et t√©l√©versement\n\n```bash\narduino-cli board list\narduino-cli compile --fqbn esp32:esp32:esp32 lilygo-test.ino\narduino-cli upload -p /dev/ttyUSB0 --fqbn esp32:esp32:esp32 lilygo-test.ino\narduino-cli monitor -p /dev/ttyUSB0 -c baudrate=115200\n```\n\n---\n\nInstalle Arduino CLI et teste le programme de base. Dis-moi quand c'est fait!",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 100
      }
    },
    {
      "id": 701,
      "slug": "widget-section7-base-done",
      "kind": "widget",
      "display_name": "Arduino CLI install√©?",
      "agent_key": null,
      "parent_slug": null,
      "position": 101,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "Arduino CLI est install√© et le test de base fonctionne!"
          }
        }
      },
      "metadata": {
        "order": 101
      }
    },
    {
      "id": 702,
      "slug": "condition-section7-base-done",
      "kind": "condition",
      "display_name": "Arduino CLI OK?",
      "agent_key": null,
      "parent_slug": null,
      "position": 102,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 102
      }
    },
    {
      "id": 703,
      "slug": "end-section7-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Section 7",
      "agent_key": null,
      "parent_slug": null,
      "position": 103,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand Arduino CLI sera install√©!"
      },
      "metadata": {
        "order": 103
      }
    },
    {
      "id": 710,
      "slug": "assistant-message-exercice-led",
      "kind": "assistant_message",
      "display_name": "Exercice LED",
      "agent_key": null,
      "parent_slug": null,
      "position": 110,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## üéØ Exercice pratique : Contr√¥le de LEDs via port s√©rie\n\n### Ce que tu dois r√©aliser\n\n**1. Circuit √©lectronique:**\n- Branchez une LED rouge et une LED verte sur votre breadboard\n- Connectez-les aux GPIO appropri√©s de votre LilyGO\n- N'oubliez pas les r√©sistances de limitation de courant (220Œ© - 330Œ©)\n\n**2. Interface tactile (touch_ui.py):**\n- Modifiez le programme Python\n- Ajoutez deux gros boutons: \"ROUGE\" et \"VERT\"\n- Chaque bouton doit envoyer la couleur sur le port s√©rie (`/dev/ttyUSB0`)\n\n**3. Programme Arduino:**\n- Modifiez le sketch pour √©couter les commandes sur le port s√©rie\n- Impl√©mentez la logique pour allumer la LED correspondante\n- Les deux commandes doivent √©teindre l'autre LED\n\n**4. Test complet:**\n- Lancez l'interface tactile\n- Appuyez sur les boutons ROUGE et VERT\n- V√©rifiez que les LEDs s'allument correctement\n\n---\n\n### üí° Indices\n\n**Python (interface tactile):**\nLa biblioth√®que `serial` (PySerial) permet d'√©crire sur le port s√©rie\n\n**Arduino:**\nUtilisez `Serial.available()` et `Serial.readStringUntil()` pour lire les commandes\n\n---\n\n### Commit de votre travail\n\n```bash\ncd ~/243-4J5-LI\ngit add .\ngit commit -m \"Ajout du contr√¥le de LEDs via interface tactile et port s√©rie\"\ngit push origin prenom-nom/labo1\n```\n\n---\n\n### ‚úÖ √Ä remettre:\n- Photo du circuit sur la breadboard\n- Photo de l'interface tactile avec les boutons ROUGE et VERT\n- Votre code Python modifi√© (touch_ui.py)\n- Votre code Arduino (lilygo-test.ino)\n- Photo montrant les LEDs allum√©es lors d'un test\n\nR√©alise l'exercice et dis-moi quand c'est termin√©!",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 110
      }
    },
    {
      "id": 711,
      "slug": "widget-exercice-led-done",
      "kind": "widget",
      "display_name": "Exercice LED termin√©?",
      "agent_key": null,
      "parent_slug": null,
      "position": 111,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "L'exercice LED est termin√© et j'ai fait mon commit!"
          }
        }
      },
      "metadata": {
        "order": 111
      }
    },
    {
      "id": 712,
      "slug": "condition-exercice-led-done",
      "kind": "condition",
      "display_name": "Exercice LED OK?",
      "agent_key": null,
      "parent_slug": null,
      "position": 112,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 112
      }
    },
    {
      "id": 713,
      "slug": "end-exercice-led-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Exercice LED",
      "agent_key": null,
      "parent_slug": null,
      "position": 113,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand l'exercice LED sera termin√©!"
      },
      "metadata": {
        "order": 113
      }
    },
    {
      "id": 800,
      "slug": "assistant-message-devoir",
      "kind": "assistant_message",
      "display_name": "Devoir de pr√©paration",
      "agent_key": null,
      "parent_slug": null,
      "position": 120,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## üîÆ Au prochain laboratoire\n\nMaintenant que tu ma√Ætrises la programmation distante et la communication s√©rie, tu vas faire √©voluer ton syst√®me vers une architecture IoT moderne et sans fil.\n\n### üì° √âvolution pr√©vue\n\n**Phase 1:** Protocole MQTT (broker, publisher, subscriber)\n**Phase 2:** Communication WiFi (LilyGO autonome sans c√¢ble USB)\n**Phase 3:** Communication cellulaire 4G LTE\n\n---\n\n## üìö Devoir de pr√©paration (√† faire avant le prochain laboratoire)\n\n### 1. Installation du broker MQTT\n\n```bash\nsudo apt update\nsudo apt install -y mosquitto mosquitto-clients\nsudo systemctl enable mosquitto\nsudo systemctl start mosquitto\nsudo systemctl status mosquitto\n```\n\n### 2. Tests MQTT\n\nDans un terminal:\n```bash\nmosquitto_sub -h localhost -t \"test/topic\"\n```\n\nDans un autre terminal:\n```bash\nmosquitto_pub -h localhost -t \"test/topic\" -m \"Hello MQTT!\"\n```\n\n### 3. Test de connexion WiFi ESP32\n\n```bash\nmkdir -p ~/243-4J5-LI/labo1/wifi-test\ncd ~/243-4J5-LI/labo1/wifi-test\nnano wifi-test.ino\n```\n\nCode:\n```cpp\n#include <WiFi.h>\n\nconst char* ssid = \"VOTRE_SSID\";\nconst char* password = \"VOTRE_PASSWORD\";\n\nvoid setup() {\n  Serial.begin(115200);\n  WiFi.begin(ssid, password);\n  \n  int attempts = 0;\n  while (WiFi.status() != WL_CONNECTED && attempts < 20) {\n    delay(500);\n    Serial.print(\".\");\n    attempts++;\n  }\n  \n  if (WiFi.status() == WL_CONNECTED) {\n    Serial.println(\"\\nConnect√© au WiFi!\");\n    Serial.print(\"IP: \");\n    Serial.println(WiFi.localIP());\n  }\n}\n\nvoid loop() { delay(1000); }\n```\n\n### 4. Recherche\n\n- Lire sur le protocole MQTT: topic, QoS, retained message\n- Comprendre publish/subscribe vs requ√™te/r√©ponse (HTTP)\n- Explorer la biblioth√®que PubSubClient\n\n### 5. Commit\n\n```bash\ncd ~/243-4J5-LI\ngit add .\ngit commit -m \"Pr√©paration Labo 2: installation Mosquitto et test WiFi ESP32\"\ngit push origin prenom-nom/labo1\n```\n\n---\n\n**‚ö†Ô∏è Important:**\n- Ces t√¢ches sont **obligatoires** pour le prochain labo\n- Ne partagez pas vos identifiants WiFi sur GitHub\n- Testez votre configuration avant le prochain cours",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 120
      }
    },
    {
      "id": 801,
      "slug": "widget-devoir-done",
      "kind": "widget",
      "display_name": "Devoir not√©?",
      "agent_key": null,
      "parent_slug": null,
      "position": 121,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "J'ai not√© le devoir de pr√©paration!"
          }
        }
      },
      "metadata": {
        "order": 121
      }
    },
    {
      "id": 802,
      "slug": "condition-devoir-done",
      "kind": "condition",
      "display_name": "Devoir not√©?",
      "agent_key": null,
      "parent_slug": null,
      "position": 122,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 122
      }
    },
    {
      "id": 900,
      "slug": "assistant-message-fin",
      "kind": "assistant_message",
      "display_name": "Message de fin",
      "agent_key": null,
      "parent_slug": null,
      "position": 130,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## üéâ F√©licitations!\n\nTu as termin√© le **Labo 1 - Environnement de programmation distant pour objets connect√©s**!\n\n### Ce que tu as accompli:\n\n‚úÖ Installation d'Ubuntu Server sur Raspberry Pi\n‚úÖ Configuration r√©seau (IP statique + WiFi WPA-EAP)\n‚úÖ Mise en place de Cloudflare Tunnel pour l'acc√®s distant s√©curis√©\n‚úÖ Configuration de Git et GitHub\n‚úÖ Cr√©ation d'une interface tactile en mode console\n‚úÖ Installation de Node.js et Gemini CLI\n‚úÖ Programmation du LilyGO A7670G avec Arduino CLI\n‚úÖ Exercice de contr√¥le de LEDs via port s√©rie\n\n### Prochaines √©tapes:\n\nN'oublie pas de faire le **devoir de pr√©paration** avant le prochain cours:\n- Installation du broker MQTT (Mosquitto)\n- Test de communication MQTT\n- Test de connexion WiFi avec l'ESP32\n\n√Ä bient√¥t pour le **Labo 2** o√π nous passerons √† la communication sans fil avec MQTT, WiFi, et √©ventuellement LTE! üöÄ",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 130
      }
    },
    {
      "id": 999,
      "slug": "end-success",
      "kind": "end",
      "display_name": "Fin - Succ√®s",
      "agent_key": null,
      "parent_slug": null,
      "position": 999,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "Laboratoire compl√©t√© avec succ√®s"
        },
        "message": "Laboratoire 1 termin√© avec succ√®s! √Ä bient√¥t pour le Labo 2!"
      },
      "metadata": {
        "order": 999
      }
    }
  ],
  "edges": [
    {
      "id": 1001,
      "source": "start",
      "target": "assistant-message-intro",
      "condition": null,
      "metadata": { "label": "", "order": 1 }
    },
    {
      "id": 1002,
      "source": "assistant-message-intro",
      "target": "widget-pret-materiel",
      "condition": null,
      "metadata": { "label": "", "order": 2 }
    },
    {
      "id": 1003,
      "source": "widget-pret-materiel",
      "target": "condition-pret-materiel",
      "condition": null,
      "metadata": { "label": "", "order": 3 }
    },
    {
      "id": 1004,
      "source": "condition-pret-materiel",
      "target": "assistant-message-question-rpi",
      "condition": "true",
      "metadata": { "label": "true", "order": 4 }
    },
    {
      "id": 1005,
      "source": "condition-pret-materiel",
      "target": "end-abandon-materiel",
      "condition": null,
      "metadata": { "label": "", "order": 5 }
    },
    {
      "id": 1006,
      "source": "assistant-message-question-rpi",
      "target": "state-init-compteur-q1",
      "condition": null,
      "metadata": { "label": "", "order": 6 }
    },
    {
      "id": 1007,
      "source": "state-init-compteur-q1",
      "target": "wait-reponse-q1",
      "condition": null,
      "metadata": { "label": "", "order": 7 }
    },
    {
      "id": 1008,
      "source": "wait-reponse-q1",
      "target": "agent-eval-q1",
      "condition": null,
      "metadata": { "label": "", "order": 8 }
    },
    {
      "id": 1009,
      "source": "agent-eval-q1",
      "target": "condition-eval-q1",
      "condition": null,
      "metadata": { "label": "", "order": 9 }
    },
    {
      "id": 1010,
      "source": "condition-eval-q1",
      "target": "assistant-message-q1-ok",
      "condition": "true",
      "metadata": { "label": "true", "order": 10 }
    },
    {
      "id": 1011,
      "source": "condition-eval-q1",
      "target": "state-incr-compteur-q1",
      "condition": "false",
      "metadata": { "label": "false", "order": 11 }
    },
    {
      "id": 1012,
      "source": "state-incr-compteur-q1",
      "target": "condition-max-tentatives-q1",
      "condition": null,
      "metadata": { "label": "", "order": 12 }
    },
    {
      "id": 1013,
      "source": "condition-max-tentatives-q1",
      "target": "assistant-message-appel-prof-q1",
      "condition": "3",
      "metadata": { "label": "3", "order": 13 }
    },
    {
      "id": 1014,
      "source": "condition-max-tentatives-q1",
      "target": "agent-retroaction-q1",
      "condition": null,
      "metadata": { "label": "", "order": 14 }
    },
    {
      "id": 1015,
      "source": "agent-retroaction-q1",
      "target": "wait-reponse-q1",
      "condition": null,
      "metadata": { "label": "", "order": 15 }
    },
    {
      "id": 1016,
      "source": "assistant-message-appel-prof-q1",
      "target": "wait-code-prof-q1",
      "condition": null,
      "metadata": { "label": "", "order": 16 }
    },
    {
      "id": 1017,
      "source": "wait-code-prof-q1",
      "target": "condition-code-prof-q1",
      "condition": null,
      "metadata": { "label": "", "order": 17 }
    },
    {
      "id": 1018,
      "source": "condition-code-prof-q1",
      "target": "assistant-message-q1-ok",
      "condition": "1234",
      "metadata": { "label": "1234", "order": 18 }
    },
    {
      "id": 1019,
      "source": "condition-code-prof-q1",
      "target": "wait-code-prof-q1",
      "condition": null,
      "metadata": { "label": "", "order": 19 }
    },
    {
      "id": 1020,
      "source": "assistant-message-q1-ok",
      "target": "assistant-message-section1",
      "condition": null,
      "metadata": { "label": "", "order": 20 }
    },
    {
      "id": 2001,
      "source": "assistant-message-section1",
      "target": "widget-section1-done",
      "condition": null,
      "metadata": { "label": "", "order": 21 }
    },
    {
      "id": 2002,
      "source": "widget-section1-done",
      "target": "condition-section1-done",
      "condition": null,
      "metadata": { "label": "", "order": 22 }
    },
    {
      "id": 2003,
      "source": "condition-section1-done",
      "target": "assistant-message-section2",
      "condition": "true",
      "metadata": { "label": "true", "order": 23 }
    },
    {
      "id": 2004,
      "source": "condition-section1-done",
      "target": "end-section1-abandon",
      "condition": null,
      "metadata": { "label": "", "order": 24 }
    },
    {
      "id": 2101,
      "source": "assistant-message-section2",
      "target": "widget-section2-done",
      "condition": null,
      "metadata": { "label": "", "order": 25 }
    },
    {
      "id": 2102,
      "source": "widget-section2-done",
      "target": "condition-section2-done",
      "condition": null,
      "metadata": { "label": "", "order": 26 }
    },
    {
      "id": 2103,
      "source": "condition-section2-done",
      "target": "assistant-message-question-reseau",
      "condition": "true",
      "metadata": { "label": "true", "order": 27 }
    },
    {
      "id": 2104,
      "source": "condition-section2-done",
      "target": "end-section2-abandon",
      "condition": null,
      "metadata": { "label": "", "order": 28 }
    },
    {
      "id": 2105,
      "source": "assistant-message-question-reseau",
      "target": "state-init-compteur-q2",
      "condition": null,
      "metadata": { "label": "", "order": 29 }
    },
    {
      "id": 2106,
      "source": "state-init-compteur-q2",
      "target": "wait-reponse-q2",
      "condition": null,
      "metadata": { "label": "", "order": 30 }
    },
    {
      "id": 2107,
      "source": "wait-reponse-q2",
      "target": "agent-eval-q2",
      "condition": null,
      "metadata": { "label": "", "order": 31 }
    },
    {
      "id": 2108,
      "source": "agent-eval-q2",
      "target": "condition-eval-q2",
      "condition": null,
      "metadata": { "label": "", "order": 32 }
    },
    {
      "id": 2109,
      "source": "condition-eval-q2",
      "target": "assistant-message-q2-ok",
      "condition": "true",
      "metadata": { "label": "true", "order": 33 }
    },
    {
      "id": 2110,
      "source": "condition-eval-q2",
      "target": "state-incr-compteur-q2",
      "condition": "false",
      "metadata": { "label": "false", "order": 34 }
    },
    {
      "id": 2111,
      "source": "state-incr-compteur-q2",
      "target": "condition-max-tentatives-q2",
      "condition": null,
      "metadata": { "label": "", "order": 35 }
    },
    {
      "id": 2112,
      "source": "condition-max-tentatives-q2",
      "target": "assistant-message-appel-prof-q2",
      "condition": "3",
      "metadata": { "label": "3", "order": 36 }
    },
    {
      "id": 2113,
      "source": "condition-max-tentatives-q2",
      "target": "agent-retroaction-q2",
      "condition": null,
      "metadata": { "label": "", "order": 37 }
    },
    {
      "id": 2114,
      "source": "agent-retroaction-q2",
      "target": "wait-reponse-q2",
      "condition": null,
      "metadata": { "label": "", "order": 38 }
    },
    {
      "id": 2115,
      "source": "assistant-message-appel-prof-q2",
      "target": "wait-code-prof-q2",
      "condition": null,
      "metadata": { "label": "", "order": 39 }
    },
    {
      "id": 2116,
      "source": "wait-code-prof-q2",
      "target": "condition-code-prof-q2",
      "condition": null,
      "metadata": { "label": "", "order": 40 }
    },
    {
      "id": 2117,
      "source": "condition-code-prof-q2",
      "target": "assistant-message-q2-ok",
      "condition": "1234",
      "metadata": { "label": "1234", "order": 41 }
    },
    {
      "id": 2118,
      "source": "condition-code-prof-q2",
      "target": "wait-code-prof-q2",
      "condition": null,
      "metadata": { "label": "", "order": 42 }
    },
    {
      "id": 2119,
      "source": "assistant-message-q2-ok",
      "target": "assistant-message-section3",
      "condition": null,
      "metadata": { "label": "", "order": 43 }
    },
    {
      "id": 3001,
      "source": "assistant-message-section3",
      "target": "widget-section3-done",
      "condition": null,
      "metadata": { "label": "", "order": 44 }
    },
    {
      "id": 3002,
      "source": "widget-section3-done",
      "target": "condition-section3-done",
      "condition": null,
      "metadata": { "label": "", "order": 45 }
    },
    {
      "id": 3003,
      "source": "condition-section3-done",
      "target": "assistant-message-question-zerotrust",
      "condition": "true",
      "metadata": { "label": "true", "order": 46 }
    },
    {
      "id": 3004,
      "source": "condition-section3-done",
      "target": "end-section3-abandon",
      "condition": null,
      "metadata": { "label": "", "order": 47 }
    },
    {
      "id": 3005,
      "source": "assistant-message-question-zerotrust",
      "target": "state-init-compteur-q3",
      "condition": null,
      "metadata": { "label": "", "order": 48 }
    },
    {
      "id": 3006,
      "source": "state-init-compteur-q3",
      "target": "wait-reponse-q3",
      "condition": null,
      "metadata": { "label": "", "order": 49 }
    },
    {
      "id": 3007,
      "source": "wait-reponse-q3",
      "target": "agent-eval-q3",
      "condition": null,
      "metadata": { "label": "", "order": 50 }
    },
    {
      "id": 3008,
      "source": "agent-eval-q3",
      "target": "condition-eval-q3",
      "condition": null,
      "metadata": { "label": "", "order": 51 }
    },
    {
      "id": 3009,
      "source": "condition-eval-q3",
      "target": "assistant-message-q3-ok",
      "condition": "true",
      "metadata": { "label": "true", "order": 52 }
    },
    {
      "id": 3010,
      "source": "condition-eval-q3",
      "target": "state-incr-compteur-q3",
      "condition": "false",
      "metadata": { "label": "false", "order": 53 }
    },
    {
      "id": 3011,
      "source": "state-incr-compteur-q3",
      "target": "condition-max-tentatives-q3",
      "condition": null,
      "metadata": { "label": "", "order": 54 }
    },
    {
      "id": 3012,
      "source": "condition-max-tentatives-q3",
      "target": "assistant-message-appel-prof-q3",
      "condition": "3",
      "metadata": { "label": "3", "order": 55 }
    },
    {
      "id": 3013,
      "source": "condition-max-tentatives-q3",
      "target": "agent-retroaction-q3",
      "condition": null,
      "metadata": { "label": "", "order": 56 }
    },
    {
      "id": 3014,
      "source": "agent-retroaction-q3",
      "target": "wait-reponse-q3",
      "condition": null,
      "metadata": { "label": "", "order": 57 }
    },
    {
      "id": 3015,
      "source": "assistant-message-appel-prof-q3",
      "target": "wait-code-prof-q3",
      "condition": null,
      "metadata": { "label": "", "order": 58 }
    },
    {
      "id": 3016,
      "source": "wait-code-prof-q3",
      "target": "condition-code-prof-q3",
      "condition": null,
      "metadata": { "label": "", "order": 59 }
    },
    {
      "id": 3017,
      "source": "condition-code-prof-q3",
      "target": "assistant-message-q3-ok",
      "condition": "1234",
      "metadata": { "label": "1234", "order": 60 }
    },
    {
      "id": 3018,
      "source": "condition-code-prof-q3",
      "target": "wait-code-prof-q3",
      "condition": null,
      "metadata": { "label": "", "order": 61 }
    },
    {
      "id": 3019,
      "source": "assistant-message-q3-ok",
      "target": "assistant-message-section4",
      "condition": null,
      "metadata": { "label": "", "order": 62 }
    },
    {
      "id": 4001,
      "source": "assistant-message-section4",
      "target": "widget-section4-done",
      "condition": null,
      "metadata": { "label": "", "order": 63 }
    },
    {
      "id": 4002,
      "source": "widget-section4-done",
      "target": "condition-section4-done",
      "condition": null,
      "metadata": { "label": "", "order": 64 }
    },
    {
      "id": 4003,
      "source": "condition-section4-done",
      "target": "assistant-message-section5",
      "condition": "true",
      "metadata": { "label": "true", "order": 65 }
    },
    {
      "id": 4004,
      "source": "condition-section4-done",
      "target": "end-section4-abandon",
      "condition": null,
      "metadata": { "label": "", "order": 66 }
    },
    {
      "id": 5001,
      "source": "assistant-message-section5",
      "target": "widget-section5-done",
      "condition": null,
      "metadata": { "label": "", "order": 67 }
    },
    {
      "id": 5002,
      "source": "widget-section5-done",
      "target": "condition-section5-done",
      "condition": null,
      "metadata": { "label": "", "order": 68 }
    },
    {
      "id": 5003,
      "source": "condition-section5-done",
      "target": "assistant-message-section6",
      "condition": "true",
      "metadata": { "label": "true", "order": 69 }
    },
    {
      "id": 5004,
      "source": "condition-section5-done",
      "target": "end-section5-abandon",
      "condition": null,
      "metadata": { "label": "", "order": 70 }
    },
    {
      "id": 6001,
      "source": "assistant-message-section6",
      "target": "widget-section6-done",
      "condition": null,
      "metadata": { "label": "", "order": 71 }
    },
    {
      "id": 6002,
      "source": "widget-section6-done",
      "target": "condition-section6-done",
      "condition": null,
      "metadata": { "label": "", "order": 72 }
    },
    {
      "id": 6003,
      "source": "condition-section6-done",
      "target": "assistant-message-section7",
      "condition": "true",
      "metadata": { "label": "true", "order": 73 }
    },
    {
      "id": 6004,
      "source": "condition-section6-done",
      "target": "end-section6-abandon",
      "condition": null,
      "metadata": { "label": "", "order": 74 }
    },
    {
      "id": 7001,
      "source": "assistant-message-section7",
      "target": "widget-section7-base-done",
      "condition": null,
      "metadata": { "label": "", "order": 75 }
    },
    {
      "id": 7002,
      "source": "widget-section7-base-done",
      "target": "condition-section7-base-done",
      "condition": null,
      "metadata": { "label": "", "order": 76 }
    },
    {
      "id": 7003,
      "source": "condition-section7-base-done",
      "target": "assistant-message-exercice-led",
      "condition": "true",
      "metadata": { "label": "true", "order": 77 }
    },
    {
      "id": 7004,
      "source": "condition-section7-base-done",
      "target": "end-section7-abandon",
      "condition": null,
      "metadata": { "label": "", "order": 78 }
    },
    {
      "id": 7101,
      "source": "assistant-message-exercice-led",
      "target": "widget-exercice-led-done",
      "condition": null,
      "metadata": { "label": "", "order": 79 }
    },
    {
      "id": 7102,
      "source": "widget-exercice-led-done",
      "target": "condition-exercice-led-done",
      "condition": null,
      "metadata": { "label": "", "order": 80 }
    },
    {
      "id": 7103,
      "source": "condition-exercice-led-done",
      "target": "assistant-message-devoir",
      "condition": "true",
      "metadata": { "label": "true", "order": 81 }
    },
    {
      "id": 7104,
      "source": "condition-exercice-led-done",
      "target": "end-exercice-led-abandon",
      "condition": null,
      "metadata": { "label": "", "order": 82 }
    },
    {
      "id": 8001,
      "source": "assistant-message-devoir",
      "target": "widget-devoir-done",
      "condition": null,
      "metadata": { "label": "", "order": 83 }
    },
    {
      "id": 8002,
      "source": "widget-devoir-done",
      "target": "condition-devoir-done",
      "condition": null,
      "metadata": { "label": "", "order": 84 }
    },
    {
      "id": 8003,
      "source": "condition-devoir-done",
      "target": "assistant-message-fin",
      "condition": "true",
      "metadata": { "label": "true", "order": 85 }
    },
    {
      "id": 8004,
      "source": "condition-devoir-done",
      "target": "assistant-message-fin",
      "condition": null,
      "metadata": { "label": "", "order": 86 }
    },
    {
      "id": 9001,
      "source": "assistant-message-fin",
      "target": "end-success",
      "condition": null,
      "metadata": { "label": "", "order": 87 }
    }
  ]
}
