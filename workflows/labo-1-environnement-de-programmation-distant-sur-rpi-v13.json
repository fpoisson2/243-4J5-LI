{
  "nodes": [
    {
      "id": 7656,
      "slug": "start",
      "kind": "start",
      "display_name": "D√©but",
      "agent_key": null,
      "parent_slug": null,
      "position": 1,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "auto_start": true
      },
      "metadata": {
        "order": 1
      },
      "created_at": "2026-01-20T15:41:02.424228Z",
      "updated_at": "2026-01-20T15:41:02.424232Z"
    },
    {
      "id": 7657,
      "slug": "assistant-message-section1",
      "kind": "assistant_message",
      "display_name": "Section 1: üìê Architecture du syst√®me",
      "agent_key": null,
      "parent_slug": null,
      "position": 2,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "# Labo 1 ‚Äî Environnement de programmation distant pour objets connect√©s\n  Guide pas √† pas pour pr√©parer un Raspberry Pi 5, le connecter au r√©seau et d√©ployer les outils n√©cessaires.\n\n---\n\n## üìê Architecture du syst√®me\n\n```mermaid\ngraph TD\n  subgraph Client[\"Poste de developpement\"]\n    Dev_PC[\"SSH + Navigateur\"]\n  end\n\n  subgraph Access[\"Acces securise\"]\n    CF_ZT[\"Cloudflare Zero Trust\"]\n    CF_Tunnel[\"cloudflared (Tunnel)\"]\n  end\n\n  subgraph Lab[\"Lab On-Prem (Raspberry Pi 5)\"]\n    SSHD[\"SSH Server\"]\n    subgraph DevTools[\"Outils Dev\"]\n      Git_CLI[\"Git CLI\"]\n      Opencode[\"Opencode CLI\"]\n      Python_Env[\"Python + evdev\"]\n      Arduino_CLI[\"Arduino CLI\"]\n    end\n    subgraph Devices[\"Peripheriques\"]\n      Touchscreen[\"Ecran tactile\"]\n      LilyGO_A7670G[\"LilyGO A7670G\"]\n    end\n  end\n\n  subgraph Cloud[\"Services Cloud\"]\n    GitHub_SaaS[\"GitHub\"]\n    Gemini_API[\"Gemini API\"]\n  end\n\n  Dev_PC --> CF_ZT --> CF_Tunnel --> SSHD\n  SSHD --> DevTools\n\n  Git_CLI -.-> GitHub_SaaS\n  Opencode -.-> Gemini_API\n\n  Python_Env --> Touchscreen\n  Arduino_CLI --> LilyGO_A7670G\n```\n\nCe diagramme illustre l'architecture compl√®te du laboratoire:\n- **Zone Client (vert):** Votre poste de d√©veloppement\n- **Zone d'acc√®s s√©curis√© (bleu):** Cloudflare Zero Trust et tunnel\n- **Zone Lab (gris):** Raspberry Pi 5 avec tous les outils et p√©riph√©riques IoT\n- **Zone Cloud (jaune):** Services externes (GitHub, Gemini API)\n\n---",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 2
      },
      "created_at": "2026-01-20T15:41:02.424233Z",
      "updated_at": "2026-01-20T15:41:02.424233Z"
    },
    {
      "id": 7658,
      "slug": "widget-section1-done",
      "kind": "widget",
      "display_name": "Continuer: üìê Architecture du syst√®me",
      "agent_key": null,
      "parent_slug": null,
      "position": 3,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "Section termin√©e, continuer",
            "title": "Pr√™t √† continuer?"
          }
        }
      },
      "metadata": {
        "order": 3
      },
      "created_at": "2026-01-20T15:41:02.424234Z",
      "updated_at": "2026-01-20T15:41:02.424235Z"
    },
    {
      "id": 7659,
      "slug": "condition-section1-done",
      "kind": "condition",
      "display_name": "Section 1 termin√©e?",
      "agent_key": null,
      "parent_slug": null,
      "position": 4,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 4
      },
      "created_at": "2026-01-20T15:41:02.424235Z",
      "updated_at": "2026-01-20T15:41:02.424236Z"
    },
    {
      "id": 7660,
      "slug": "end-section1-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Section 1",
      "agent_key": null,
      "parent_slug": null,
      "position": 5,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand la section ¬´ üìê Architecture du syst√®me ¬ª sera termin√©e!"
      },
      "metadata": {
        "order": 5
      },
      "created_at": "2026-01-20T15:41:02.424236Z",
      "updated_at": "2026-01-20T15:41:02.424237Z"
    },
    {
      "id": 7661,
      "slug": "assistant-message-section2",
      "kind": "assistant_message",
      "display_name": "Section 2: üéí Mat√©riel requis",
      "agent_key": null,
      "parent_slug": null,
      "position": 6,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## üéí Mat√©riel requis\n\n  - Clavier Raspberry Pi\n  - Raspberry Pi 5\n  - √âcran tactile pour Raspberry Pi 5\n  - Alimentation USB-C pour Raspberry Pi 5\n  - C√¢ble micro-USB pour clavier\n  - Carte micro SD 64 GB\n  - LilyGO A7670G avec antenne GPS et LTE\n  - Plaquette de prototypage (breadboard)\n  - LED rouge et LED verte\n  - R√©sistances appropri√©es (220Œ© - 330Œ©)\n  - Fils de connexion (jumper wires)\n  - Carte SIM\n  - C√¢ble USB-A √† USB-C\n\n### üìù Pourquoi ce mat√©riel?\n\n**Raspberry Pi 5 comme station de programmation distante:**\nLe Raspberry Pi 5 servira de **passerelle de d√©veloppement accessible √† distance**. Vous le configurerez une fois sur place avec un √©cran et un clavier, puis vous y acc√©derez via SSH depuis n'importe o√π gr√¢ce √† Cloudflare Tunnel. Il h√©bergera tous vos outils de d√©veloppement (Arduino CLI, Node.js, Git) et servira de pont pour programmer le LilyGO. Cette approche simule un environnement professionnel o√π les appareils IoT sont souvent d√©ploy√©s dans des lieux difficiles d'acc√®s.\n\n**√âcran tactile et clavier (configuration initiale uniquement):**\nCes p√©riph√©riques sont essentiels pour la **configuration initiale** du Raspberry Pi: installation d'Ubuntu, configuration r√©seau, et premiers tests. Une fois le syst√®me configur√© et accessible √† distance, vous n'en aurez plus besoin au quotidien. L'√©cran tactile servira √©galement pour l'exercice d'interface utilisateur en mode console (Section 5).\n\n**Carte micro SD 64 GB:**\nLe syst√®me d'exploitation, les outils de d√©veloppement, et vos projets seront stock√©s sur cette carte. Une capacit√© de 64 GB offre amplement d'espace pour Ubuntu Server, Node.js, Arduino CLI, et tous vos programmes.\n\n**LilyGO A7670G:**\nCe module ESP32 avec modem cellulaire int√©gr√© (LTE Cat-1) et GPS repr√©sente votre **objet connect√© cible**. Il sera programm√© **via le Raspberry Pi √† distance**. Dans un sc√©nario r√©el, cet appareil pourrait √™tre d√©ploy√© sur un v√©hicule, dans un champ agricole, ou sur une station m√©t√©o isol√©e. Vous le programmerez comme si vous mettiez √† jour un appareil IoT sur le terrain, sans y √™tre physiquement.\n\n**Carte SIM et antennes:**\nLa carte SIM permet au LilyGO de se connecter au r√©seau cellulaire pour envoyer des donn√©es sans d√©pendre du WiFi. Les antennes GPS et LTE sont essentielles pour la r√©ception des signaux satellites et cellulaires. Cela simule des cas d'usage r√©els o√π les appareils IoT doivent communiquer depuis des zones sans infrastructure WiFi.\n\n**C√¢ble USB-A vers USB-C:**\nCe c√¢ble connecte le Raspberry Pi au LilyGO pour deux fonctions critiques:\n1. **T√©l√©versement du code** depuis le Raspberry Pi vers le LilyGO (via Arduino CLI)\n2. **D√©bogage s√©rie** pour lire les messages du LilyGO en temps r√©el\n\nLe flux complet est: **Votre PC ‚Üí (SSH/Cloudflare) ‚Üí Raspberry Pi ‚Üí (USB) ‚Üí LilyGO**",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 6
      },
      "created_at": "2026-01-20T15:41:02.424237Z",
      "updated_at": "2026-01-20T15:41:02.424238Z"
    },
    {
      "id": 7662,
      "slug": "widget-section2-done",
      "kind": "widget",
      "display_name": "Continuer: üéí Mat√©riel requis",
      "agent_key": null,
      "parent_slug": null,
      "position": 7,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "Section termin√©e, continuer",
            "title": "Pr√™t √† continuer?"
          }
        }
      },
      "metadata": {
        "order": 7
      },
      "created_at": "2026-01-20T15:41:02.424239Z",
      "updated_at": "2026-01-20T15:41:02.424239Z"
    },
    {
      "id": 7663,
      "slug": "condition-section2-done",
      "kind": "condition",
      "display_name": "Section 2 termin√©e?",
      "agent_key": null,
      "parent_slug": null,
      "position": 8,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 8
      },
      "created_at": "2026-01-20T15:41:02.424240Z",
      "updated_at": "2026-01-20T15:41:02.424240Z"
    },
    {
      "id": 7664,
      "slug": "end-section2-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Section 2",
      "agent_key": null,
      "parent_slug": null,
      "position": 9,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand la section ¬´ üéí Mat√©riel requis ¬ª sera termin√©e!"
      },
      "metadata": {
        "order": 9
      },
      "created_at": "2026-01-20T15:41:02.424241Z",
      "updated_at": "2026-01-20T15:41:02.424241Z"
    },
    {
      "id": 7665,
      "slug": "assistant-message-section3",
      "kind": "assistant_message",
      "display_name": "Section 3: 1. Installation Ubuntu Server",
      "agent_key": null,
      "parent_slug": null,
      "position": 10,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## 1. Installation Ubuntu Server\n> üéØ **Objectif :** pr√©parer la carte SD avec Ubuntu Server, SSH et l'√©cran tactile.\n\n### üí° Concepts cl√©s\n\n**Pourquoi Ubuntu Server et non Desktop?**\nUbuntu Server est une version all√©g√©e de Linux sans interface graphique (GUI). Pour un appareil IoT ou une station de d√©veloppement distante, cela pr√©sente plusieurs avantages:\n- **Moins de ressources:** Plus de RAM et CPU disponibles pour vos applications\n- **Plus stable:** Moins de services en arri√®re-plan qui pourraient causer des probl√®mes\n- **Acc√®s √† distance naturel:** Con√ßu pour √™tre administr√© via SSH (ligne de commande)\n- **Mise √† jour automatique:** Parfait pour des appareils non surveill√©s\n\n**Importance de SSH d√®s le d√©part:**\nSSH (Secure Shell) est le protocole qui vous permettra de contr√¥ler le Raspberry Pi √† distance via la ligne de commande. En l'activant lors de l'installation, vous √©vitez de devoir brancher un √©cran et un clavier plus tard pour le configurer manuellement.\n\n**Configuration hostname, username, password:**\n- **Hostname:** Le nom du Raspberry Pi sur le r√©seau (ex: `rpi-francis`). Facilite l'identification si vous avez plusieurs appareils\n- **Username/Password:** Vos identifiants pour vous connecter. √Ä noter: le mot de passe sera demand√© lors des connexions SSH\n\n### Pr√©paration de la carte SD\n1. Installer Ubuntu Server (derni√®re version LTS) sur le Raspberry Pi 5\n   - Utilisez **Raspberry Pi Imager** (outil officiel) disponible sur [raspberrypi.com](https://www.raspberrypi.com/software/)\n   - S√©lectionnez: `Other general-purpose OS ‚Üí Ubuntu ‚Üí Ubuntu Server 24.04 LTS (64-bit)`\n\n2. Lors de la pr√©paration de la carte micro-SD:\n   - **Activer SSH** ‚úì (crucial pour l'acc√®s √† distance)\n   - **Configurer username, password et hostname** (ces identifiants seront utilis√©s pour toutes les connexions)\n\n3. Pendant la pr√©paration de la carte, installer l'√©cran sur le Raspberry Pi 5 (suivre les instructions du fabricant attentivement)\n   - L'√©cran se connecte via les ports GPIO et DSI\n   - Assurez-vous que les connexions sont bien enfonc√©es\n\n4. Brancher le clavier sur le Raspberry Pi 5 (port USB)\n\n**üîç Premier d√©marrage**\n\n  - Au premier boot, Ubuntu va finaliser l'installation (2-3 minutes)\n  - Vous verrez des messages de log d√©filer √† l'√©cran\n  - Attendez l'invite de connexion: `ubuntu login:`\n  - Connectez-vous avec le username/password que vous avez configur√©s",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 10
      },
      "created_at": "2026-01-20T15:41:02.424242Z",
      "updated_at": "2026-01-20T15:41:02.424243Z"
    },
    {
      "id": 7666,
      "slug": "widget-section3-done",
      "kind": "widget",
      "display_name": "Continuer: 1. Installation Ubuntu Server",
      "agent_key": null,
      "parent_slug": null,
      "position": 11,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "Section termin√©e, continuer",
            "title": "Pr√™t √† continuer?"
          }
        }
      },
      "metadata": {
        "order": 11
      },
      "created_at": "2026-01-20T15:41:02.424243Z",
      "updated_at": "2026-01-20T15:41:02.424244Z"
    },
    {
      "id": 7667,
      "slug": "condition-section3-done",
      "kind": "condition",
      "display_name": "Section 3 termin√©e?",
      "agent_key": null,
      "parent_slug": null,
      "position": 12,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 12
      },
      "created_at": "2026-01-20T15:41:02.424244Z",
      "updated_at": "2026-01-20T15:41:02.424245Z"
    },
    {
      "id": 7668,
      "slug": "end-section3-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Section 3",
      "agent_key": null,
      "parent_slug": null,
      "position": 13,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand la section ¬´ 1. Installation Ubuntu Server ¬ª sera termin√©e!"
      },
      "metadata": {
        "order": 13
      },
      "created_at": "2026-01-20T15:41:02.424246Z",
      "updated_at": "2026-01-20T15:41:02.424246Z"
    },
    {
      "id": 7669,
      "slug": "assistant-message-section4",
      "kind": "assistant_message",
      "display_name": "Section 4: 2. Configuration r√©seau",
      "agent_key": null,
      "parent_slug": null,
      "position": 14,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## 2. Configuration r√©seau\n> üåê **Objectif :** disposer d'une connexion filaire fixe et d'un WiFi pr√™t pour le r√©seau du C√©gep.\n\n### üí° Concepts cl√©s\n\n**Netplan : le gestionnaire r√©seau d'Ubuntu**\nUbuntu utilise **Netplan**, un outil de configuration r√©seau bas√© sur des fichiers YAML. Au lieu de modifier plusieurs fichiers de configuration disparates, vous cr√©ez un seul fichier `.yaml` d√©crivant votre r√©seau. Netplan se charge ensuite de configurer les services r√©seau appropri√©s (`networkd` ou `NetworkManager`).\n\n**IP statique vs DHCP :**\n- **DHCP (Dynamic):** Le routeur attribue automatiquement une adresse IP qui peut changer √† chaque red√©marrage\n- **IP statique (Static):** Vous choisissez une adresse IP fixe qui ne change jamais\n\nPour un appareil IoT ou une station de d√©veloppement, une **IP statique** est pr√©f√©rable car:\n- Vous savez toujours comment le joindre sur le r√©seau local\n- Simplifie la configuration SSH et des r√®gles de pare-feu\n- Essentiel si vous voulez exposer des services (serveur web, MQTT, etc.)\n\n**Pourquoi configurer DEUX interfaces r√©seau?**\n1. **Ethernet (eth0):** Connexion filaire stable avec IP statique ‚Üí pour votre d√©veloppement √† la maison\n2. **WiFi (wlan0):** Connexion sans fil au r√©seau du C√©gep ‚Üí pour travailler en classe\n\nCette double configuration vous permet de travailler dans les deux environnements sans reconfiguration.\n\n**WiFi WPA-EAP (Enterprise) :**\nContrairement au WiFi domestique (WPA2-PSK avec mot de passe simple), les r√©seaux d'entreprise et institutionnels utilisent **WPA-EAP** (Extensible Authentication Protocol):\n- Authentification par **username + password** (pas juste un mot de passe partag√©)\n- Protocole PEAP (Protected EAP) avec MS-CHAPv2\n- Chaque utilisateur a ses propres identifiants\n- Plus s√©curis√© car on peut r√©voquer l'acc√®s d'un utilisateur individuel\n\n### 2.1 Adresse IP statique (Ethernet)\n\n#### Cr√©er/√©diter le fichier Netplan\n```bash\nsudo nano /etc/netplan/01-ethernet.yaml\n```\n\n#### Configuration\n```yaml\nnetwork:\n  version: 2\n  renderer: networkd\n  ethernets:\n    eth0:\n      dhcp4: false\n      addresses:\n        - 192.168.1.9/24\n      gateway4: 192.168.1.1\n      nameservers:\n        addresses:\n          - 1.1.1.1\n          - 8.8.8.8\n```\n\n**üìñ Explication des param√®tres (connexion directe PC ‚Üî RPi)**\n\n  - `dhcp4: false` ‚Üí D√©sactive DHCP, on configure une IP statique\n  - `192.168.1.9` ‚Üí IP statique du Raspberry Pi\n  - `/24` ‚Üí Masque 255.255.255.0 (notation CIDR)\n  - `gateway4: 192.168.1.1` ‚Üí Passerelle (peut √™tre fictive dans ce contexte)\n  - `nameservers` ‚Üí Serveurs DNS (1.1.1.1 = Cloudflare, 8.8.8.8 = Google)\n\n**üîå Configuration en connexion directe**\nVous allez connecter un c√¢ble Ethernet **directement** entre votre PC et le Raspberry Pi, sans routeur interm√©diaire. Les deux appareils doivent avoir des IPs statiques sur le **m√™me sous-r√©seau**:\n\n  - **Raspberry Pi:** 192.168.1.9/24\n  - **Votre PC:** 192.168.1.10/24 (√† configurer sur votre PC)\n\nLes deux appareils peuvent communiquer directement sans passer par Internet. Le SSH fonctionnera entre eux m√™me sans acc√®s Internet. La gateway et les DNS ne sont utiles que si vous branchez ensuite un c√¢ble au routeur pour l'acc√®s Internet.\n\n#### Appliquer la configuration\n```bash\nsudo netplan apply\n```\n\nOu avec debug:\n```bash\nsudo netplan --debug apply\n```\n\n#### V√©rification\n```bash\nip a\n```\nVous devriez voir: `inet 192.168.1.9/24`\n\n**Test Internet:**\n```bash\nping 1.1.1.1\nping google.com\n```\n\n### 2.2 Connexion SSH locale\n1. Brancher le c√¢ble r√©seau entre votre RPi et votre PC\n2. Se connecter en SSH au Raspberry Pi\n\n### 2.3 Configuration WiFi WPA-EAP (R√©seau C√©gep)\n\n#### Cr√©er le fichier de configuration WiFi\n```bash\nsudo nano /etc/netplan/01-wifi.yaml\n```\n```yaml\nnetwork:\n  version: 2\n  renderer: networkd\n  wifis:\n    wlan0:\n      dhcp4: true\n      access-points:\n        \"MonSSID\":\n          mode: infrastructure\n          auth:\n            key-management: wpa-eap\n            eap-method: peap\n            identity: \"mon_user\"\n            password: \"mon_password\"\n            phase2-auth: mschapv2\n```\n\n**üìñ Explication des param√®tres WiFi WPA-EAP**\n\n  - `dhcp4: true` ‚Üí Le r√©seau du C√©gep attribue automatiquement l'IP via DHCP\n  - `\"MonSSID\"` ‚Üí Remplacez par le nom du r√©seau WiFi du C√©gep\n  - `mode: infrastructure` ‚Üí Mode standard pour se connecter √† un point d'acc√®s WiFi\n  - `key-management: wpa-eap` ‚Üí Authentification entreprise (pas un simple mot de passe)\n  - `eap-method: peap` ‚Üí Protected EAP, tunnel chiffr√© pour l'authentification\n  - `identity` ‚Üí Votre nom d'utilisateur du C√©gep (ex: num√©ro de DA)\n  - `password` ‚Üí Votre mot de passe du C√©gep\n  - `phase2-auth: mschapv2` ‚Üí M√©thode d'authentification interne (MS-CHAP version 2)\n\n**üîê S√©curit√©**\nAttention: vos identifiants sont stock√©s en texte clair dans ce fichier. Assurez-vous que seul root peut le lire :\n```sudo chmod 600 /etc/netplan/01-wifi.yaml```\n\n#### Appliquer la configuration WiFi\n```bash\nsudo netplan generate\nsudo netplan apply\n```\n\n#### Debug si la connexion √©choue\n```bash\nsudo netplan --debug apply\nsudo journalctl -u systemd-networkd -f\n```\n\n#### Test de connectivit√©\n```bash\nping www.google.ca\n```",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 14
      },
      "created_at": "2026-01-20T15:41:02.424247Z",
      "updated_at": "2026-01-20T15:41:02.424247Z"
    },
    {
      "id": 7670,
      "slug": "widget-section4-done",
      "kind": "widget",
      "display_name": "Continuer: 2. Configuration r√©seau",
      "agent_key": null,
      "parent_slug": null,
      "position": 15,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "Section termin√©e, continuer",
            "title": "Pr√™t √† continuer?"
          }
        }
      },
      "metadata": {
        "order": 15
      },
      "created_at": "2026-01-20T15:41:02.424248Z",
      "updated_at": "2026-01-20T15:41:02.424248Z"
    },
    {
      "id": 7671,
      "slug": "condition-section4-done",
      "kind": "condition",
      "display_name": "Section 4 termin√©e?",
      "agent_key": null,
      "parent_slug": null,
      "position": 16,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 16
      },
      "created_at": "2026-01-20T15:41:02.424249Z",
      "updated_at": "2026-01-20T15:41:02.424249Z"
    },
    {
      "id": 7672,
      "slug": "end-section4-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Section 4",
      "agent_key": null,
      "parent_slug": null,
      "position": 17,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand la section ¬´ 2. Configuration r√©seau ¬ª sera termin√©e!"
      },
      "metadata": {
        "order": 17
      },
      "created_at": "2026-01-20T15:41:02.424250Z",
      "updated_at": "2026-01-20T15:41:02.424251Z"
    },
    {
      "id": 7673,
      "slug": "assistant-message-section5",
      "kind": "assistant_message",
      "display_name": "Section 5: 3. Connexion √† distance via Cloudflare Tunnel",
      "agent_key": null,
      "parent_slug": null,
      "position": 18,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## 3. Connexion √† distance via Cloudflare Tunnel\n> üîí **Objectif :** s√©curiser l'acc√®s SSH via un tunnel Cloudflare et Zero Trust.\n\n### üí° Concepts cl√©s\n\n**Pourquoi un tunnel Cloudflare au lieu de l'exposition de ports?**\n\nDans une configuration classique, pour acc√©der √† votre Raspberry Pi depuis l'ext√©rieur, vous devriez:\n1. **Ouvrir le port 22 (SSH)** sur votre routeur (port forwarding)\n2. Conna√Ætre votre **IP publique** (qui change r√©guli√®rement chez la plupart des fournisseurs)\n3. Exposer directement votre appareil √† Internet\n\n**Probl√®mes de cette approche :**\n- üö® Exposition directe aux attaques (bots qui scannent le port 22 en continu)\n- üîÑ IP dynamique qui change sans pr√©venir\n- üîß Configuration complexe du routeur et pare-feu\n- üè¢ Impossible si vous √™tes derri√®re un r√©seau d'entreprise/C√©gep (NAT, pare-feu strict)\n\n**Solution: Cloudflare Tunnel**\n\nCloudflare Tunnel cr√©e une **connexion sortante s√©curis√©e** de votre Raspberry Pi vers les serveurs de Cloudflare. Vous n'avez **aucun port √† ouvrir**!\n\n**Architecture du tunnel:**\n```\nVotre PC ‚Üí Cloudflare Edge ‚Üí Tunnel chiffr√© ‚Üí Raspberry Pi\n```\n\n**Flux de connexion:**\n1. Votre Raspberry Pi √©tablit une connexion **sortante** vers Cloudflare (via `cloudflared`)\n2. Cette connexion reste ouverte en permanence (websocket persistant)\n3. Quand vous voulez vous connecter, vous passez par Cloudflare qui route vers le tunnel\n4. Cloudflare **authentifie** d'abord votre identit√© (Zero Trust)\n5. Une fois autoris√©, vos commandes SSH passent par le tunnel chiffr√©\n\n**Avantages:**\n- ‚úÖ Aucun port ouvert sur votre routeur ‚Üí pas de surface d'attaque\n- ‚úÖ Fonctionne m√™me derri√®re un NAT strict ou pare-feu d'entreprise\n- ‚úÖ Pas besoin de conna√Ætre votre IP publique\n- ‚úÖ Authentification robuste via Zero Trust (email, 2FA, etc.)\n- ‚úÖ Logs d'acc√®s d√©taill√©s\n- ‚úÖ R√©vocation d'acc√®s en un clic\n\n**Qu'est-ce que Zero Trust?**\n\nLe mod√®le **Zero Trust** (confiance z√©ro) repose sur le principe: \"Ne jamais faire confiance, toujours v√©rifier\". M√™me si quelqu'un conna√Æt votre URL (`rpi.edxo.ca`), ils ne peuvent pas se connecter sans:\n1. √ätre authentifi√© (email/2FA)\n2. √ätre dans la liste des utilisateurs autoris√©s (policies)\n3. Passer les v√©rifications de s√©curit√© de Cloudflare\n\nC'est comme avoir un **garde de s√©curit√© virtuel** qui v√©rifie l'identit√© de chaque visiteur avant de les laisser passer.\n\n### 3.1 Pr√©requis\n1. Se cr√©er un compte gratuit sur Cloudflare\n2. Acheter un nom de domaine public\n\n### 3.2 Installation et configuration sur le Raspberry Pi\n\n#### Authentification Cloudflare\n```bash\ncloudflared login\n```\n\n#### Cr√©er un tunnel nomm√©\n```bash\ncloudflared tunnel create rpi-ssh\n```\n\nLa commande affichera:\n- Un **UUID** (ex: `12345678-abcd-...`) - **gardez-le pr√©cieusement**\n- Cr√©era un fichier JSON de credentials dans: `/home/fpoisson/.cloudflared/.json`\n\n#### Cr√©er le fichier de configuration\n```bash\nnano /home/fpoisson/.cloudflared/config.yml\n```\n\n**Contenu:**\n```yaml\ntunnel: \ncredentials-file: /home/fpoisson/.cloudflared/.json\n\ningress:\n  - hostname: rpi.edxo.ca\n    service: ssh://localhost:22\n  - service: http_status:404\n```\n\n**üìñ Explication de la configuration**\n\n  - `tunnel:` ‚Üí L'UUID unique de votre tunnel (g√©n√©r√© par `cloudflared tunnel create`)\n  - `credentials-file:` ‚Üí Fichier JSON contenant les cl√©s d'authentification du tunnel\n  - `ingress:` ‚Üí R√®gles de routage (o√π envoyer le trafic qui arrive au tunnel)\n  - `hostname: rpi.edxo.ca` ‚Üí Quand quelqu'un acc√®de √† cette URL...\n  - `service: ssh://localhost:22` ‚Üí ...redirige vers le port SSH local (22)\n  - `service: http_status:404` ‚Üí R√®gle par d√©faut (obligatoire) : retourne 404 pour tout autre trafic\n\n**‚öôÔ∏è √Ä personnaliser**\n\n  - `&lt;TON-UUID-ICI&gt;` ‚Üí Remplacez par l'UUID affich√© lors de la cr√©ation du tunnel\n  - `rpi.edxo.ca` ‚Üí Remplacez par votre sous-domaine (ex: rpi.votredomaine.com)\n  - `/home/fpoisson/` ‚Üí Adaptez si votre username est diff√©rent\n\n#### Lier le tunnel au DNS\n```bash\ncloudflared tunnel route dns rpi-ssh rpi.edxo.ca\n```\n- `rpi-ssh` ‚Üí nom du tunnel\n- `rpi.edxo.ca` ‚Üí hostname externe\n\nCela cr√©e automatiquement l'entr√©e DNS dans votre compte Cloudflare.\n\n#### Tester le tunnel manuellement\n```bash\ncloudflared tunnel run rpi-ssh\n```\nLaissez cette commande tourner (utilisez `tmux` ou `screen` si n√©cessaire).\n\nSi tout fonctionne, vous verrez des logs: `\"Connection established\"` / `\"Proxying tunnel\"`\n\n#### Installer le service (d√©marrage automatique)\nUne fois le test r√©ussi:\n```bash\nsudo cloudflared service install\n```\n\n### 3.3 Configuration Cloudflare Zero Trust (Dashboard web)\n1. Aller sur le dashboard Cloudflare\n2. Acc√©der √† **Zero Trust** (ou \"Cloudflare One\")\n3. Naviguer vers: **Access ‚Üí Applications ‚Üí Add an application**\n\n**Configuration de l'application:**\n- **Type:** Self-hosted\n- **Application name:** rpi-ssh (ou autre nom)\n- **Domain:** rpi.edxo.ca\n- **Session duration:** 24h (ou selon pr√©f√©rence)\n\n**Configuration des Policies:**\n- **Action:** Allow\n- **Include:** Emails ‚Üí Votre email Cloudflare (ex: francis.poisson2@...)\n- Enregistrer\n\n**R√©sultat:** Seul un utilisateur autoris√© (vous) pourra utiliser `rpi.edxo.ca` en SSH via Access.\n\n### 3.4 Connexion SSH via Cloudflare Access\n\n#### Configuration SSH locale (sur votre PC)\n√âditer `~/.ssh/config`:\n```bash\nnano ~/.ssh/config\n```\n\n**Ajouter:**\n```\nHost rpi\n  HostName rpi.edxo.ca\n  User fpoisson\n  ProxyCommand cloudflared access ssh --hostname %h\n```\n\n#### Se connecter\n```bash\nssh rpi\n```\n\nVous verrez soit:\n- `fpoisson@rpi's password:` (authentification par mot de passe)\n- `Authenticated with public key...` (si cl√© SSH configur√©e)",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 18
      },
      "created_at": "2026-01-20T15:41:02.424251Z",
      "updated_at": "2026-01-20T15:41:02.424252Z"
    },
    {
      "id": 7674,
      "slug": "widget-section5-done",
      "kind": "widget",
      "display_name": "Continuer: 3. Connexion √† distance via Cloudflare Tunnel",
      "agent_key": null,
      "parent_slug": null,
      "position": 19,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "Section termin√©e, continuer",
            "title": "Pr√™t √† continuer?"
          }
        }
      },
      "metadata": {
        "order": 19
      },
      "created_at": "2026-01-20T15:41:02.424252Z",
      "updated_at": "2026-01-20T15:41:02.424253Z"
    },
    {
      "id": 7675,
      "slug": "condition-section5-done",
      "kind": "condition",
      "display_name": "Section 5 termin√©e?",
      "agent_key": null,
      "parent_slug": null,
      "position": 20,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 20
      },
      "created_at": "2026-01-20T15:41:02.424254Z",
      "updated_at": "2026-01-20T15:41:02.424254Z"
    },
    {
      "id": 7676,
      "slug": "end-section5-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Section 5",
      "agent_key": null,
      "parent_slug": null,
      "position": 21,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand la section ¬´ 3. Connexion √† distance via Cloudflare Tunnel ¬ª sera termin√©e!"
      },
      "metadata": {
        "order": 21
      },
      "created_at": "2026-01-20T15:41:02.424255Z",
      "updated_at": "2026-01-20T15:41:02.424255Z"
    },
    {
      "id": 7677,
      "slug": "assistant-message-section6",
      "kind": "assistant_message",
      "display_name": "Section 6: 4. Configuration Git",
      "agent_key": null,
      "parent_slug": null,
      "position": 22,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## 4. Configuration Git\n> üîß **Objectif :** configurer Git et GitHub pour collaborer sur le projet du cours.\n\n### üí° Concepts cl√©s\n\n**Pourquoi Git et GitHub pour l'IoT?**\n\nGit est un syst√®me de **contr√¥le de version** qui sauvegarde l'historique complet de votre code. Pour des projets IoT sur Raspberry Pi, c'est essentiel car vous devez synchroniser votre code entre GitHub et votre appareil distant, et pouvoir revenir √† une version stable en cas de probl√®me.\n\n**Personal Access Token (PAT):**\nGitHub n'accepte plus les mots de passe simples. Les tokens sont plus s√©curis√©s car ils peuvent √™tre limit√©s en permissions et r√©voqu√©s sans changer votre mot de passe principal.\n\n### 4.1 Cr√©ation du compte GitHub et token d'acc√®s\n\n#### Cr√©er un compte GitHub\n1. Si vous n'avez pas de compte, allez sur [github.com](https://github.com) et cr√©ez-en un\n2. V√©rifiez votre adresse email\n\n#### Cr√©er un Personal Access Token (Classic)\n1. Connectez-vous √† GitHub\n2. Allez dans **Settings** (en haut √† droite, cliquez sur votre avatar)\n3. Dans le menu de gauche, en bas, cliquez sur **Developer settings**\n4. Cliquez sur **Personal access tokens** ‚Üí **Tokens (classic)**\n5. Cliquez sur **Generate new token** ‚Üí **Generate new token (classic)**\n6. Configurez le token:\n   - **Note:** `Raspberry Pi - 243-4J5-LI`\n   - **Expiration:** 90 days (ou selon pr√©f√©rence)\n   - **Scopes:** Cochez au minimum `repo` (acc√®s complet aux d√©p√¥ts priv√©s et publics)\n7. Cliquez sur **Generate token**\n8. **‚ö†Ô∏è IMPORTANT:** Copiez le token imm√©diatement, vous ne pourrez plus le voir!\n\n### 4.2 Configuration Git sur le Raspberry Pi\n\n#### Configuration de l'identit√©\n```bash\ngit config --global user.name \"Votre Nom\"\ngit config --global user.email \"votre.email@example.com\"\n```\n\n#### Configurer le credential store\nPour √©viter de retaper le token √† chaque fois:\n```bash\ngit config --global credential.helper store\n```\n\n**‚ö†Ô∏è Attention s√©curit√©**\n\n  - Le mode `store` enregistre le token en **texte clair** dans `~/.git-credentials`\n  - Sur un syst√®me partag√©, pr√©f√©rez `cache` : `git config --global credential.helper cache`\n  - Pour un timeout de 1h : `git config --global credential.helper 'cache --timeout=3600'`\n\n### 4.3 Cloner le d√©p√¥t du cours\n\n#### Cloner le repository\n```bash\ncd ~\ngit clone https://github.com/fpoisson2/243-4J5-LI.git\ncd 243-4J5-LI\n```\n\nLors du premier clone, Git vous demandera:\n- **Username:** Votre nom d'utilisateur GitHub\n- **Password:** Collez votre **token** (pas votre mot de passe!)\n\nLe credential helper sauvegarde ces informations pour les prochaines fois.\n\n### 4.4 Travailler avec les branches\n\n#### üí° Qu'est-ce qu'une branche?\n\n**La branche `main` (principal/tronc):**\nLa branche `main` (anciennement appel√©e `master`) est la branche **principale** du projet. Elle contient la version \"officielle\" et stable du code. Dans un projet professionnel, c'est souvent le code d√©ploy√© en production. Pour ce cours, `main` contient la version de base du projet partag√©e par tous les √©tudiants.\n\n**Votre branche personnelle:**\nPour ne pas perturber `main` et pour que chaque √©tudiant travaille ind√©pendamment, vous cr√©ez votre **propre branche** √† partir de `main`. C'est comme une copie isol√©e o√π vous pouvez faire tous les changements que vous voulez sans affecter les autres.\n\n**Analogie:** Imaginez `main` comme un livre de r√©f√©rence √† la biblioth√®que. Vous ne pouvez pas √©crire dedans. Votre branche est une photocopie personnelle sur laquelle vous pouvez annoter, modifier, exp√©rimenter. Quand votre travail est pr√™t, vous pouvez proposer de fusionner vos modifications dans le livre de r√©f√©rence (via une Pull Request).\n\n#### Cr√©er votre branche personnelle\n```bash\ngit checkout -b prenom-nom/labo1\n```\n\n**Explication:**\n- `git checkout -b` ‚Üí Cr√©er une nouvelle branche ET basculer dessus imm√©diatement\n- `prenom-nom/labo1` ‚Üí Le nom de votre branche (convention: `prenom-nom/description`)\n\nExemple: `git checkout -b francis-poisson/labo1`\n\n#### V√©rifier votre branche actuelle\n```bash\ngit branch\n```\n\n**R√©sultat:**\n```\n  main\n* prenom-nom/labo1\n```\nL'ast√©risque `*` indique la branche active (celle sur laquelle vous travaillez actuellement).\n\n#### Faire des modifications et les sauvegarder\n\n**V√©rifier l'√©tat:**\n```bash\ngit status\n```\n\n**Ce que cette commande affiche:**\n- Fichiers modifi√©s (en rouge) ‚Üí pas encore ajout√©s au prochain commit\n- Fichiers ajout√©s (en vert) ‚Üí seront inclus dans le prochain commit\n- Fichiers non suivis (untracked) ‚Üí nouveaux fichiers que Git ne surveille pas encore\n\n**Ajouter vos modifications:**\n```bash\ngit add .\n```\n**Explication:** Le `.` signifie \"tous les fichiers modifi√©s dans le dossier actuel et sous-dossiers\"\n\nOu pour ajouter un fichier sp√©cifique:\n```bash\ngit add chemin/vers/fichier.py\n```\n\n**Cr√©er un commit:**\n```bash\ngit commit -m \"Description de vos changements\"\n```\n\n**Explication:**\n- `commit` ‚Üí Cr√©e un \"point de sauvegarde\" dans l'historique Git\n- `-m` ‚Üí Le message qui d√©crit ce que vous avez fait\n- Le message doit √™tre court et descriptif (verbe √† l'imp√©ratif ou infinitif)\n\nExemple: `git commit -m \"Ajout de l'interface tactile avec trois boutons\"`\n\n**Pousser vers GitHub:**\n```bash\ngit push origin prenom-nom/labo1\n```\n\n**Explication:**\n- `push` ‚Üí Envoyer vos commits locaux vers GitHub\n- `origin` ‚Üí Le nom du d√©p√¥t distant (par d√©faut, c'est GitHub)\n- `prenom-nom/labo1` ‚Üí La branche distante vers laquelle pousser\n\nSi c'est le **premier push** de cette branche:\n```bash\ngit push -u origin prenom-nom/labo1\n```\n\n**Explication:** Le flag `-u` (ou `--set-upstream`) √©tablit le lien entre votre branche locale et la branche distante. Apr√®s ce premier push, vous pourrez simplement faire `git push` sans pr√©ciser le nom de la branche.\n\n### 4.5 Synchroniser avec le d√©p√¥t principal\n\n#### üí° Pourquoi synchroniser?\n\nPendant que vous travaillez sur votre branche, le professeur ou d'autres √©tudiants peuvent avoir mis √† jour la branche `main` (nouveaux exercices, corrections de bugs, fichiers suppl√©mentaires). Il est important de **r√©cup√©rer ces changements** r√©guli√®rement pour:\n- Avoir acc√®s aux derni√®res ressources\n- √âviter les conflits massifs lors de la fusion finale\n- Vous assurer que votre code fonctionne avec la version la plus r√©cente\n\n#### R√©cup√©rer les derni√®res modifications\n```bash\ngit fetch origin\n```\n\n**Explication:**\n- `fetch` ‚Üí T√©l√©charge les informations sur les nouvelles modifications depuis GitHub\n- N'applique AUCUN changement √† vos fichiers locaux\n- C'est une op√©ration \"s√ªre\" qui sert juste √† voir ce qui a chang√© sur GitHub\n\n#### Mettre √† jour votre branche locale depuis main\n```bash\ngit checkout main\ngit pull origin main\n```\n\n**Explication:**\n- `git checkout main` ‚Üí Bascule sur votre branche locale `main`\n- `git pull origin main` ‚Üí T√©l√©charge ET applique les modifications de `main` depuis GitHub\n- √âquivalent √† : `git fetch` + `git merge origin/main`\n\n#### Fusionner main dans votre branche\n```bash\ngit checkout prenom-nom/labo1\ngit merge main\n```\n\n**Explication:**\n- `git checkout prenom-nom/labo1` ‚Üí Retourne sur votre branche de travail\n- `git merge main` ‚Üí Fusionne les modifications de `main` dans votre branche\n\n**Ce qui se passe:**\n- Git essaie de combiner automatiquement les modifications\n- Si aucun conflit: fusion automatique r√©ussie ‚úÖ\n- Si conflit: Git vous demande de choisir quelle version garder (vous devrez √©diter les fichiers marqu√©s en conflit)\n\n**Workflow complet de synchronisation:**\n```bash\ngit fetch origin              # 1. Voir ce qui a chang√©\ngit checkout main             # 2. Aller sur main\ngit pull origin main          # 3. Mettre √† jour main localement\ngit checkout votre-branche    # 4. Retourner sur votre branche\ngit merge main                # 5. Int√©grer les changements de main\n```\n\n**üí° Bonnes pratiques**\n\n  - Faites des commits fr√©quents avec des messages clairs\n  - Synchronisez r√©guli√®rement avec `main` pour √©viter les conflits\n  - Nommez vos branches de fa√ßon descriptive: `prenom-nom/feature-description`\n  - Ne travaillez jamais directement sur `main`",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 22
      },
      "created_at": "2026-01-20T15:41:02.424256Z",
      "updated_at": "2026-01-20T15:41:02.424256Z"
    },
    {
      "id": 7678,
      "slug": "widget-section6-done",
      "kind": "widget",
      "display_name": "Continuer: 4. Configuration Git",
      "agent_key": null,
      "parent_slug": null,
      "position": 23,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "Section termin√©e, continuer",
            "title": "Pr√™t √† continuer?"
          }
        }
      },
      "metadata": {
        "order": 23
      },
      "created_at": "2026-01-20T15:41:02.424257Z",
      "updated_at": "2026-01-20T15:41:02.424258Z"
    },
    {
      "id": 7679,
      "slug": "condition-section6-done",
      "kind": "condition",
      "display_name": "Section 6 termin√©e?",
      "agent_key": null,
      "parent_slug": null,
      "position": 24,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 24
      },
      "created_at": "2026-01-20T15:41:02.424258Z",
      "updated_at": "2026-01-20T15:41:02.424259Z"
    },
    {
      "id": 7680,
      "slug": "end-section6-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Section 6",
      "agent_key": null,
      "parent_slug": null,
      "position": 25,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand la section ¬´ 4. Configuration Git ¬ª sera termin√©e!"
      },
      "metadata": {
        "order": 25
      },
      "created_at": "2026-01-20T15:41:02.424259Z",
      "updated_at": "2026-01-20T15:41:02.424260Z"
    },
    {
      "id": 7681,
      "slug": "assistant-message-section7",
      "kind": "assistant_message",
      "display_name": "Section 7: 5. Interface tactile distante en mode console",
      "agent_key": null,
      "parent_slug": null,
      "position": 26,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## 5. Interface tactile distante en mode console\n> üì± **Objectif :** afficher un tableau de bord tactile minimal directement sur la console du Raspberry Pi (TTY1) via `curses` et `evdev`.\n\n### üí° Concepts cl√©s\n\n**Interface tactile SANS serveur X (mode texte uniquement):**\n\nNormalement, pour avoir une interface graphique (fen√™tres, boutons, images), vous avez besoin d'un **serveur X** (X11) ou **Wayland**. Mais sur Ubuntu Server, il n'y a pas d'environnement graphique install√©, seulement une **console texte** (TTY).\n\nCe projet montre comment cr√©er une interface **interactive et tactile** directement dans la console, sans installer de serveur graphique. C'est parfait pour:\n- Des appareils embarqu√©s avec ressources limit√©es\n- Des tableaux de bord minimalistes sur √©crans tactiles\n- Des interfaces de contr√¥le rapides sans overhead graphique\n\n**Biblioth√®ques utilis√©es:**\n\n1. **`curses`** (interface texte stylis√©e):\n   - Permet de positionner du texte n'importe o√π sur l'√©cran\n   - Ajouter des couleurs, des bordures, des zones interactives\n   - Cr√©er des \"fen√™tres\" en mode texte\n   - C'est la biblioth√®que derri√®re beaucoup d'outils CLI interactifs (nano, htop, etc.)\n\n2. **`evdev`** (√©v√©nements tactiles):\n   - Lit directement les √©v√©nements du p√©riph√©rique tactile (`/dev/input/eventX`)\n   - Capture les coordonn√©es X/Y des touchers d'√©cran\n   - Fonctionne au niveau du kernel Linux (bas niveau)\n   - Pas besoin de X11 ou Wayland\n\n**TTY1 vs votre session SSH:**\n\nQuand vous vous connectez en SSH, vous utilisez un terminal virtuel (pseudo-terminal). L'√©cran physique du Raspberry Pi affiche **TTY1**, la console locale. La commande dans cette section lance l'interface sur TTY1, donc vous la verrez sur l'√©cran tactile du Raspberry Pi, pas dans votre session SSH.\n\n**Pourquoi `sudo` et `setsid`?**\n\n- `sudo`: N√©cessaire pour acc√©der aux p√©riph√©riques d'entr√©e (`/dev/input/`) et √† TTY1\n- `chvt 1`: Bascule l'affichage sur la console locale (TTY1)\n- `setsid`: D√©marre le script dans une nouvelle session pour rediriger correctement STDIN/STDOUT/STDERR vers l'√©cran physique\n\n### 5.1 Code pr√™t √† l'emploi\n- Le script se trouve dans `~/243-4J5-LI/labo1/code/touch_ui.py`.\n- Il affiche trois boutons (STATUS, LOGS, QUIT) et r√©agit aux taps du panneau tactile sans serveur X.\n- `q` ou le bouton **QUIT** ferment l'application.\n- **Architecture:** Le script utilise `curses` pour dessiner l'interface et `evdev` pour d√©tecter les touch√©s et mapper les coordonn√©es aux boutons.\n\n### 5.2 D√©pendances requises\n```bash\nsudo apt update\nsudo apt install -y python3 python3-evdev\n```\n\n### 5.3 Lancer l'UI sur l'√©cran distant\nEx√©cuter depuis une session SSH (le Pi doit avoir l'√©cran tactile branch√©) :\n```bash\nsudo chvt 1\nsudo setsid sh -c 'exec /dev/tty1 2>&1 python3 /home/fpoisson/243-4J5-LI/labo1/code/touch_ui.py'\n\nPour tuer le processus Python distant si l'application ne r√©pond pas:\n```bash\nsudo pkill python3\n```\n```\n- `chvt 1` bascule l'affichage sur la console locale (TTY1).\n- `setsid` d√©marre le script dans un nouveau groupe de sessions et redirige STDIN/STDOUT/STDERR vers l'√©cran, ce qui permet de voir et toucher l'interface √† distance.\n- Une fois le programme termin√©, lib√©rez l'√©cran local si n√©cessaire avec `sudo fuser -v /dev/tty1`.",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 26
      },
      "created_at": "2026-01-20T15:41:02.424260Z",
      "updated_at": "2026-01-20T15:41:02.424261Z"
    },
    {
      "id": 7682,
      "slug": "widget-section7-done",
      "kind": "widget",
      "display_name": "Continuer: 5. Interface tactile distante en mode console",
      "agent_key": null,
      "parent_slug": null,
      "position": 27,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "Section termin√©e, continuer",
            "title": "Pr√™t √† continuer?"
          }
        }
      },
      "metadata": {
        "order": 27
      },
      "created_at": "2026-01-20T15:41:02.424261Z",
      "updated_at": "2026-01-20T15:41:02.424262Z"
    },
    {
      "id": 7683,
      "slug": "condition-section7-done",
      "kind": "condition",
      "display_name": "Section 7 termin√©e?",
      "agent_key": null,
      "parent_slug": null,
      "position": 28,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 28
      },
      "created_at": "2026-01-20T15:41:02.424263Z",
      "updated_at": "2026-01-20T15:41:02.424263Z"
    },
    {
      "id": 7684,
      "slug": "end-section7-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Section 7",
      "agent_key": null,
      "parent_slug": null,
      "position": 29,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand la section ¬´ 5. Interface tactile distante en mode console ¬ª sera termin√©e!"
      },
      "metadata": {
        "order": 29
      },
      "created_at": "2026-01-20T15:41:02.424264Z",
      "updated_at": "2026-01-20T15:41:02.424264Z"
    },
    {
      "id": 7685,
      "slug": "assistant-message-section8",
      "kind": "assistant_message",
      "display_name": "Section 8: 6. Installation d'Opencode et configuration de l'IA",
      "agent_key": null,
      "parent_slug": null,
      "position": 30,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## 6. Installation d'Opencode et configuration de l'IA\n> üõ†Ô∏è **Objectif :** installer Opencode CLI et configurer l'acc√®s √† l'IA Gemini.\n\n### üí° Concepts cl√©s\n\n**Pourquoi Opencode dans un projet IoT?**\n\nOpencode est un environnement de d√©veloppement interactif qui permet d'int√©grer des outils d'IA directement dans votre flux de travail. Dans le contexte IoT, il facilite :\n- **L'assistance au codage** : G√©n√©ration et optimisation de code pour microcontr√¥leurs.\n- **Le d√©bogage intelligent** : Analyse des logs d'erreurs et suggestions de corrections.\n- **L'automatisation** : Ex√©cution de commandes complexes via l'IA.\n\n**Opencode CLI : Votre assistant IA sur le terrain**\n\nOpencode vous donne acc√®s √† l'IA Gemini (y compris le palier gratuit) directement dans votre terminal, sans avoir √† g√©rer la facturation API s√©par√©e.\n\n**IMPORTANT:** Opencode peut aussi **ex√©cuter des commandes syst√®me pour vous** :\n- üîß **Compiler et t√©l√©verser du code Arduino** vers l'ESP32.\n- üîå **Acc√©der au port s√©rie** de l'ESP32 pour lire les logs et d√©boguer.\n- üì¶ **Ex√©cuter des commandes Git**.\n- üêö **Lancer n'importe quelle commande Bash** sur le Raspberry Pi.\n\n### 6.1 Installation d'Opencode CLI\n\n#### Installation via curl\nOpencode s'installe avec une seule commande :\n```bash\ncurl -fsSL https://opencode.ai/install | bash\n```\n\nApr√®s l'installation, red√©marrez votre terminal ou ex√©cutez :\n```bash\nsource ~/.bashrc\n```\n\n### 6.2 Configuration du plugin Gemini\n\nCe plugin vous permet d'utiliser votre forfait Gemini existant directement dans Opencode, sans facturation API s√©par√©e.\n\n#### Ajouter le plugin\n√âditez votre fichier de configuration Opencode (`~/.config/opencode/opencode.json`) :\n```json\n{\n  \"$schema\": \"https://opencode.ai/config.json\",\n  \"plugin\": [\"opencode-gemini-auth@latest\"]\n}\n```\n\n### 6.3 Authentification et Connexion\n\n#### Lancer la proc√©dure de connexion\n```bash\nopencode auth login\n```\n\n#### √âtapes de connexion :\n1. **Select Provider :** Choisissez **Google** dans la liste.\n2. **Authenticate :** S√©lectionnez **OAuth with Google (Gemini CLI)**.\n3. **Approbation :** Une fen√™tre de navigateur s'ouvrira pour approuver l'acc√®s.\n   - Le plugin lance un serveur local temporaire pour capturer le retour.\n   - Si le serveur √©choue (port utilis√© ou environnement headless), vous pourrez coller manuellement l'URL de retour ou le code d'autorisation.\n\nUne fois authentifi√©, Opencode pourra utiliser votre compte Google pour les requ√™tes Gemini.\n\n#### Lancer Opencode\n```bash\nopencode\n```\n\n**OAuth with Google (Gemini CLI)**.\n3. **Approbation :** Une fen√™tre de navigateur s'ouvrira pour approuver l'acc√®s.\n\nUne fois authentifi√©, Opencode pourra utiliser votre compte Google pour les requ√™tes Gemini.\n\n### 6.4 Exercice pratique avec Opencode\n\nMaintenant que vous avez install√© Opencode, testez-le pour am√©liorer votre code!\n\n**Exemple d'utilisation:**\n1. Naviguez vers votre code:\n   ```bash\n   cd ~/243-4J5-LI/labo1/code\n   ```\n\n2. Lancez Opencode:\n   ```bash\n   opencode\n   ```\n\n3. **Suggestions de requ√™tes:**\n   - \"Ajoute un quatri√®me bouton 'REBOOT' qui affiche un message de confirmation\"\n   - \"Ajoute des couleurs diff√©rentes pour chaque bouton\"\n\n4. Testez le code modifi√©:\n   ```bash\n   sudo chvt 1\n   sudo setsid sh -c 'exec </dev/tty1 >/dev/tty1 2>&1 python3 /home/fpoisson/243-4J5-LI/labo1/code/touch_ui.py'\n   ```\n\n5. Sauvegardez vos changements avec Git:\n   ```bash\n   git add .\n   git commit -m \"Ajout de fonctionnalit√© via Opencode: [d√©crivez ce que vous avez ajout√©]\"\n   git push origin prenom-nom/labo1\n   ```\n\n<div style=\"background:#f0fdf4; border:1px solid #22c55e; padding:10px 12px; border-radius:10px;\">\n<strong>‚úÖ √Ä remettre:</strong>\n<ul>\n  <li>Capturez une photo de votre √©cran tactile montrant la nouvelle fonctionnalit√©</li>\n  <li>Notez la requ√™te Opencode que vous avez utilis√©e</li>\n  <li>D√©crivez bri√®vement ce qui fonctionne et ce qui ne fonctionne pas</li>\n</ul>\n</div>",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 30
      },
      "created_at": "2026-01-20T15:41:02.424265Z",
      "updated_at": "2026-01-20T15:41:02.424265Z"
    },
    {
      "id": 7686,
      "slug": "widget-section8-done",
      "kind": "widget",
      "display_name": "Continuer: 6. Installation d'Opencode et configuration de l'IA",
      "agent_key": null,
      "parent_slug": null,
      "position": 31,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "Section termin√©e, continuer",
            "title": "Pr√™t √† continuer?"
          }
        }
      },
      "metadata": {
        "order": 31
      },
      "created_at": "2026-01-20T15:41:02.424266Z",
      "updated_at": "2026-01-20T15:41:02.424266Z"
    },
    {
      "id": 7687,
      "slug": "condition-section8-done",
      "kind": "condition",
      "display_name": "Section 8 termin√©e?",
      "agent_key": null,
      "parent_slug": null,
      "position": 32,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 32
      },
      "created_at": "2026-01-20T15:41:02.424267Z",
      "updated_at": "2026-01-20T15:41:02.424267Z"
    },
    {
      "id": 7688,
      "slug": "end-section8-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Section 8",
      "agent_key": null,
      "parent_slug": null,
      "position": 33,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand la section ¬´ 6. Installation d'Opencode et configuration de l'IA ¬ª sera termin√©e!"
      },
      "metadata": {
        "order": 33
      },
      "created_at": "2026-01-20T15:41:02.424268Z",
      "updated_at": "2026-01-20T15:41:02.424269Z"
    },
    {
      "id": 7689,
      "slug": "assistant-message-section9",
      "kind": "assistant_message",
      "display_name": "Section 9: 7. Programmation du LilyGO A7670G",
      "agent_key": null,
      "parent_slug": null,
      "position": 34,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## 7. Programmation du LilyGO A7670G\n> üöÄ **Objectif :** installer Arduino CLI et programmer le module LilyGO pour communiquer via LTE.\n\n### üí° Concepts cl√©s\n\n**Qu'est-ce que le LilyGO A7670G?**\n\nLe LilyGO A7670G est un module de d√©veloppement qui combine:\n1. **ESP32:** Microcontr√¥leur WiFi/Bluetooth (dual-core, 240 MHz)\n2. **A7670G:** Modem cellulaire 4G LTE Cat-1 (2G/3G/4G)\n3. **GPS:** R√©cepteur GNSS pour la g√©olocalisation\n4. **Connectivit√©:** WiFi, Bluetooth, LTE, GPS sur une seule carte\n\nC'est l'outil id√©al pour des applications IoT mobiles : trackers GPS, stations m√©t√©o distantes, surveillance de v√©hicules, capteurs agricoles, etc.\n\n**Pourquoi Arduino CLI (et pas l'IDE Arduino)?**\n\nL'**IDE Arduino** est une application graphique. Sur un Raspberry Pi en mode serveur (sans interface graphique) accessible uniquement par SSH, vous ne pouvez pas l'utiliser.\n\n**Arduino CLI** est la version ligne de commande qui vous permet de:\n- ‚úÖ Compiler des sketches Arduino depuis SSH\n- ‚úÖ T√©l√©verser du code vers l'ESP32 via USB\n- ‚úÖ Installer des biblioth√®ques\n- ‚úÖ G√©rer plusieurs boards (ESP32, Arduino Uno, etc.)\n- ‚úÖ Automatiser le build/upload avec des scripts\n\n**Architecture ESP32 vs Raspberry Pi:**\n\nL'ESP32 est un microcontr√¥leur (MCU) tr√®s diff√©rent d'un Raspberry Pi:\n\n| Caract√©ristique | Raspberry Pi 5 | ESP32 (LilyGO) |\n|-----------------|----------------|----------------|\n| Type | Ordinateur SBC | Microcontr√¥leur |\n| OS | Linux (Ubuntu) | Aucun (bare metal) |\n| Langage | Python, Node.js, C++, etc. | C/C++ (Arduino) |\n| RAM | 4-8 GB | ~520 KB |\n| Consommation | 5-10W | 0.05-0.3W |\n| Prix | ~100$ | ~20-30$ |\n| Usage IoT | Passerelle, serveur, d√©veloppement | Capteur, actuateur, endpoint |\n\n**Flux de programmation √† distance:**\n```\nVotre PC ‚Üí (SSH/Cloudflare) ‚Üí Raspberry Pi ‚Üí (USB) ‚Üí ESP32 (LilyGO)\n                                    ‚Üì\n                          Arduino CLI compile\n                                    ‚Üì\n                          T√©l√©versement s√©rie\n                                    ‚Üì\n                          ESP32 ex√©cute le code\n```\n\nAvec **Gemini CLI**, vous pouvez demander √† l'IA de g√©rer toute cette cha√Æne pour vous!\n\n**FQBN (Fully Qualified Board Name):**\n\nLe **FQBN** identifie le type de board pour la compilation. Format: `vendor:architecture:board`\n\nPour l'ESP32 g√©n√©rique: `esp32:esp32:esp32`\n- `esp32` = vendor (Espressif)\n- `esp32` = architecture (famille ESP32)\n- `esp32` = board (mod√®le ESP32 g√©n√©rique)\n\n**Biblioth√®ques essentielles pour LTE/GPS:**\n- **TinyGSM**: Communication avec modems cellulaires (AT commands, connexion r√©seau)\n- **ArduinoJson**: Parser/cr√©er des donn√©es JSON pour APIs\n- **PubSubClient**: Client MQTT pour envoyer des donn√©es vers un broker\n\n### 7.1 Installation Arduino CLI\n\n#### T√©l√©charger et installer Arduino CLI\n```bash\ncd ~\ncurl -fsSL https://raw.githubusercontent.com/arduino/arduino-cli/master/install.sh | sh\n```\n\n#### Ajouter Arduino CLI au PATH\n```bash\necho 'export PATH=$PATH:$HOME/bin' >> ~/.bashrc\nsource ~/.bashrc\n```\n\n#### V√©rifier l'installation\n```bash\narduino-cli version\n```\n\n#### Initialiser la configuration\n```bash\narduino-cli config init\n```\n\n#### Mettre √† jour l'index des boards\n```bash\narduino-cli core update-index\n```\n\n### 7.2 Configuration pour ESP32\n\n#### Ajouter l'URL des ESP32\n```bash\narduino-cli config add board_manager.additional_urls https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json\n```\n\n#### Mettre √† jour l'index\n```bash\narduino-cli core update-index\n```\n\n#### Installer le support ESP32\n```bash\narduino-cli core install esp32:esp32\n```\n\n> üí° **Si vous obtenez l'erreur** `esp32:esp32-arduino-libs@idf-release_v5.5-8410210c-v2 net/http: request canceled ...`, il y a probablement une limite de taille (~400 Mo) sur votre connexion. T√©l√©chargez alors manuellement les archives volumineuses dans le dossier de staging Arduino avant de relancer l'installation:\n> ```bash\n> mkdir -p ~/.arduino15/staging/packages\n> cd ~/.arduino15/staging/packages\n> # Librairies Arduino ESP32 (‚âà428 Mo, reprise possible)\n> wget -c https://github.com/espressif/arduino-esp32/releases/download/3.3.4/esp32-3.3.4-libs.zip\n> # Toolchains (adapt√©es pour aarch64; remplacez si autre architecture)\n> wget -c https://github.com/espressif/crosstool-NG/releases/download/esp-14.2.0_20250730/xtensa-esp-elf-14.2.0_20250730-aarch64-linux-gnu.tar.gz\n> wget -c https://github.com/espressif/crosstool-NG/releases/download/esp-14.2.0_20250730/riscv32-esp-elf-14.2.0_20250730-aarch64-linux-gnu.tar.gz\n> # Puis relancer l'installation\n> arduino-cli core install esp32:esp32\n> ```\n> Les t√©l√©chargements supportent la reprise (`-c`) en cas de coupure.\n\n#### Lister les boards disponibles\n```bash\narduino-cli board listall esp32\n```\n\n### 7.3 Installation des biblioth√®ques requises\n\n#### Biblioth√®ques Arduino\nPour le LilyGO A7670G, installer les biblioth√®ques n√©cessaires:\n```bash\narduino-cli lib install \"TinyGSM\"\narduino-cli lib install \"ArduinoJson\"\narduino-cli lib install \"PubSubClient\"\n```\n\n#### Biblioth√®que Python pour communication s√©rie\nPour que l'interface tactile puisse communiquer avec le LilyGO:\n```bash\nsudo apt install -y python3-serial\n```\n\n### 7.4 Premier programme simple\n\n#### Cr√©er un dossier pour le projet\n```bash\nmkdir -p ~/243-4J5-LI/labo1/lilygo-test\ncd ~/243-4J5-LI/labo1/lilygo-test\n```\n\n#### Cr√©er le sketch Arduino\n```bash\nnano lilygo-test.ino\n```\n\n**Code de test simple:**\n```cpp\n// Test basique pour LilyGO A7670G\n// V√©rifie la communication s√©rie et allume la LED\n\n#define LED_PIN 12  // LED int√©gr√©e sur le LilyGO\n\nvoid setup() {\n  // Initialiser la communication s√©rie\n  Serial.begin(115200);\n  delay(1000);\n\n  // Configurer la LED\n  pinMode(LED_PIN, OUTPUT);\n\n  Serial.println(\"=========================\");\n  Serial.println(\"LilyGO A7670G - Test\");\n  Serial.println(\"=========================\");\n  Serial.println(\"D√©marrage...\");\n}\n\nvoid loop() {\n  // Faire clignoter la LED\n  digitalWrite(LED_PIN, HIGH);\n  Serial.println(\"LED ON\");\n  delay(1000);\n\n  digitalWrite(LED_PIN, LOW);\n  Serial.println(\"LED OFF\");\n  delay(1000);\n}\n```\n\n### 7.5 Compilation et t√©l√©versement\n\n#### Connecter le LilyGO\n1. Brancher le c√¢ble USB-A vers USB-C entre le Raspberry Pi et le LilyGO\n2. V√©rifier la connexion:\n```bash\narduino-cli board list\n```\n\nVous devriez voir un port comme `/dev/ttyUSB0` ou `/dev/ttyACM0`\n\n#### Compiler le sketch\n```bash\narduino-cli compile --fqbn esp32:esp32:esp32 lilygo-test.ino\n```\n\n#### T√©l√©verser vers le LilyGO\n```bash\narduino-cli upload -p /dev/ttyUSB0 --fqbn esp32:esp32:esp32 lilygo-test.ino\n```\n\n**Note:** Remplacez `/dev/ttyUSB0` par le port d√©tect√© sur votre syst√®me.\n\n#### Moniteur s√©rie pour voir les messages\n```bash\narduino-cli monitor -p /dev/ttyUSB0 -c baudrate=115200\n```\n\nVous devriez voir:\n```\n=========================\nLilyGO A7670G - Test\n=========================\nD√©marrage...\nLED ON\nLED OFF\nLED ON\nLED OFF\n...\n```\n\nPour quitter le moniteur s√©rie: `Ctrl+C`\n\n### 7.6 Exercice pratique : Contr√¥le de LEDs via port s√©rie\n\n**‚ö° D√©pannage**\n\n  - Si `/dev/ttyUSB0` n'appara√Æt pas, v√©rifiez le c√¢ble USB\n  - Ajoutez votre utilisateur au groupe dialout: `sudo usermod -a -G dialout $USER` puis red√©marrez\n  - Si l'upload √©choue, appuyez sur le bouton BOOT du LilyGO pendant l'upload\n  - Pour voir tous les ports: `ls -la /dev/tty*`\n\n**Objectif :** Mettre en place un circuit avec deux LEDs (rouge et verte) contr√¥lables via des commandes envoy√©es sur le port s√©rie.\n\n#### Ce que vous devez r√©aliser\n\n1. **Circuit √©lectronique:**\n   - Branchez une LED rouge et une LED verte sur votre plaquette de prototypage\n   - Connectez-les aux GPIO appropri√©s de votre LilyGO\n   - N'oubliez pas les r√©sistances de limitation de courant\n\n2. **Interface tactile (touch_ui.py):**\n   - Modifiez le programme Python de l'interface tactile cr√©√© √† la section 5\n   - Ajoutez deux gros boutons: \"ROUGE\" et \"VERT\"\n   - Chaque bouton doit envoyer la couleur correspondante sur le port s√©rie du LilyGO (`/dev/ttyUSB0`)\n   - L'interface tactile devient ainsi votre panneau de contr√¥le visuel pour les LEDs\n\n3. **Programme Arduino:**\n   - Modifiez le sketch pour √©couter les commandes sur le port s√©rie\n   - Impl√©mentez la logique pour allumer la LED correspondante selon la couleur re√ßue (\"rouge\" ou \"verte\")\n   - Les deux commandes doivent √©teindre l'autre LED si elle est allum√©e\n\n4. **Test complet:**\n   - Lancez l'interface tactile sur l'√©cran du Raspberry Pi\n   - Appuyez sur les boutons ROUGE et VERT\n   - V√©rifiez que les LEDs s'allument correctement\n   - Testez aussi via `arduino-cli monitor` pour d√©boguer si n√©cessaire\n\n**üí° Indices**\n\n  - **Python (interface tactile):** La biblioth√®que `serial` (PySerial) permet d'√©crire sur le port s√©rie\n  - **Arduino:** Utilisez `Serial.available()` et `Serial.readStringUntil()` pour lire les commandes\n  - La fonction `String.trim()` peut √™tre utile pour nettoyer l'entr√©e\n  - Pensez √† d√©finir les pins des LEDs en `OUTPUT` dans le `setup()`\n  - Testez d'abord votre code Arduino avec `arduino-cli monitor` avant d'int√©grer l'interface tactile\n\n#### Commit de votre travail\n\nUne fois que votre circuit fonctionne et que l'interface tactile contr√¥le les LEDs:\n```bash\n# Ajouter le code Arduino\ncd ~/243-4J5-LI/labo1/lilygo-test\ngit add .\n\n# Ajouter le code Python modifi√©\ncd ~/243-4J5-LI/labo1/code\ngit add touch_ui.py\n\n# Committer et pousser\ncd ~/243-4J5-LI\ngit commit -m \"Ajout du contr√¥le de LEDs via interface tactile et port s√©rie\"\ngit push origin prenom-nom/labo1\n```\n\n**‚úÖ √Ä remettre:**\n\n  - Photo du circuit sur la plaquette de prototypage\n  - Photo de l'interface tactile avec les boutons ROUGE et VERT\n  - Votre code Python modifi√© (touch_ui.py)\n  - Votre code Arduino (lilygo-test.ino)\n  - Photo montrant les LEDs allum√©es lors d'un test\n  - Tous les fichiers doivent √™tre dans votre d√©p√¥t Git",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 34
      },
      "created_at": "2026-01-20T15:41:02.424269Z",
      "updated_at": "2026-01-20T15:41:02.424270Z"
    },
    {
      "id": 7690,
      "slug": "widget-section9-done",
      "kind": "widget",
      "display_name": "Continuer: 7. Programmation du LilyGO A7670G",
      "agent_key": null,
      "parent_slug": null,
      "position": 35,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "Section termin√©e, continuer",
            "title": "Pr√™t √† continuer?"
          }
        }
      },
      "metadata": {
        "order": 35
      },
      "created_at": "2026-01-20T15:41:02.424270Z",
      "updated_at": "2026-01-20T15:41:02.424271Z"
    },
    {
      "id": 7691,
      "slug": "condition-section9-done",
      "kind": "condition",
      "display_name": "Section 9 termin√©e?",
      "agent_key": null,
      "parent_slug": null,
      "position": 36,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 36
      },
      "created_at": "2026-01-20T15:41:02.424271Z",
      "updated_at": "2026-01-20T15:41:02.424272Z"
    },
    {
      "id": 7692,
      "slug": "end-section9-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Section 9",
      "agent_key": null,
      "parent_slug": null,
      "position": 37,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand la section ¬´ 7. Programmation du LilyGO A7670G ¬ª sera termin√©e!"
      },
      "metadata": {
        "order": 37
      },
      "created_at": "2026-01-20T15:41:02.424272Z",
      "updated_at": "2026-01-20T15:41:02.424273Z"
    },
    {
      "id": 7693,
      "slug": "assistant-message-section10",
      "kind": "assistant_message",
      "display_name": "Section 10: üîÆ Au prochain laboratoire",
      "agent_key": null,
      "parent_slug": null,
      "position": 38,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## üîÆ Au prochain laboratoire\n\nMaintenant que vous ma√Ætrisez la programmation distante et la communication s√©rie, vous allez faire √©voluer votre syst√®me vers une architecture IoT moderne et sans fil.\n\n### üì° √âvolution de l'architecture de communication\n\n**Phase 1 : Protocole MQTT**\n- Introduction au protocole **MQTT** (Message Queuing Telemetry Transport)\n- Concepts de **broker**, **publisher** et **subscriber**\n- Architecture publish/subscribe pour l'IoT\n- Avantages : l√©ger, asynchrone, d√©couplage des composants\n\n**Phase 2 : Communication WiFi**\n- Remplacement de la communication s√©rie (c√¢ble USB) par **WiFi**\n- Le LilyGO devient autonome et peut communiquer sans fil avec le Raspberry Pi\n- Utilisation du module WiFi int√©gr√© de l'ESP32\n- Publication de messages MQTT via WiFi\n\n**Phase 3 : Communication cellulaire (LTE)**\n- Activation du modem **A7670G** pour la connectivit√© **4G LTE**\n- Remplacement du WiFi par le **r√©seau cellulaire**\n- Int√©gration de la **carte SIM** et configuration APN\n- Le LilyGO peut maintenant communiquer **n'importe o√π** avec couverture cellulaire\n- Application : t√©l√©m√©trie mobile, tracking GPS, capteurs distants\n\n### üéØ Vision finale\n\n√Ä la fin du prochain laboratoire, votre syst√®me pourra :\n- Envoyer des donn√©es depuis le LilyGO via **4G LTE** vers un broker MQTT\n- Recevoir ces donn√©es sur le Raspberry Pi (ou n'importe o√π dans le monde)\n- Contr√¥ler les LEDs **√† distance** via MQTT sans connexion physique\n- D√©ployer le LilyGO en **mode terrain** avec localisation GPS et t√©l√©m√©trie cellulaire\n\n**Passez de :**\n```\n[Interface tactile] ‚Üí [C√¢ble USB] ‚Üí [LilyGO]\n```\n\n**√Ä :**\n```\n[Interface tactile] ‚Üí [MQTT/WiFi] ‚Üí [Broker] ‚Üí [MQTT/LTE] ‚Üí [LilyGO anywhere]\n                         ‚Üì\n                     [Internet]\n```\n\n**üí° R√©flexion**\nPensez √† des cas d'usage r√©els o√π cette architecture serait utile :\n\n  - Surveillance de ruches d'abeilles en campagne (temp√©rature, humidit√©, poids)\n  - Tracking de v√©hicules en temps r√©el avec g√©olocalisation\n  - Stations m√©t√©o d√©ploy√©es dans des zones recul√©es\n  - Capteurs agricoles pour irrigation intelligente\n  - Syst√®mes d'alerte en cas de d√©passement de seuils (temp√©rature, mouvement, etc.)",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 38
      },
      "created_at": "2026-01-20T15:41:02.424274Z",
      "updated_at": "2026-01-20T15:41:02.424274Z"
    },
    {
      "id": 7694,
      "slug": "widget-section10-done",
      "kind": "widget",
      "display_name": "Continuer: üîÆ Au prochain laboratoire",
      "agent_key": null,
      "parent_slug": null,
      "position": 39,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "widget": {
          "slug": "pret-a-debuter",
          "source": "library",
          "variables": {
            "text": "Section termin√©e, continuer",
            "title": "Pr√™t √† continuer?"
          }
        }
      },
      "metadata": {
        "order": 39
      },
      "created_at": "2026-01-20T15:41:02.424275Z",
      "updated_at": "2026-01-20T15:41:02.424275Z"
    },
    {
      "id": 7695,
      "slug": "condition-section10-done",
      "kind": "condition",
      "display_name": "Section 10 termin√©e?",
      "agent_key": null,
      "parent_slug": null,
      "position": 40,
      "is_enabled": true,
      "parameters": {
        "mode": "value",
        "path": "input.action.raw_payload.value.",
        "tools": null
      },
      "metadata": {
        "order": 40
      },
      "created_at": "2026-01-20T15:41:02.424276Z",
      "updated_at": "2026-01-20T15:41:02.424277Z"
    },
    {
      "id": 7696,
      "slug": "end-section10-abandon",
      "kind": "end",
      "display_name": "Fin - Abandon Section 10",
      "agent_key": null,
      "parent_slug": null,
      "position": 41,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "√âtudiant a abandonn√©"
        },
        "message": "Reviens quand la section ¬´ üîÆ Au prochain laboratoire ¬ª sera termin√©e!"
      },
      "metadata": {
        "order": 41
      },
      "created_at": "2026-01-20T15:41:02.424277Z",
      "updated_at": "2026-01-20T15:41:02.424278Z"
    },
    {
      "id": 7697,
      "slug": "assistant-message-section11",
      "kind": "assistant_message",
      "display_name": "Section 11: üìö Devoir de pr√©paration (√† faire avant le prochain laboratoire)",
      "agent_key": null,
      "parent_slug": null,
      "position": 42,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "message": "## üìö Devoir de pr√©paration (√† faire avant le prochain laboratoire)\n\nProfitez de votre acc√®s distant au Raspberry Pi pour pr√©parer le terrain! Ces t√¢ches vous permettront de d√©marrer rapidement le prochain laboratoire.\n\n### 1. Installation du broker MQTT sur le Raspberry Pi\n\n**T√¢che :** Installer Mosquitto (broker MQTT) sur votre Raspberry Pi.\n\n```bash\nsudo apt update\nsudo apt install -y mosquitto mosquitto-clients\nsudo systemctl enable mosquitto\nsudo systemctl start mosquitto\n```\n\n**V√©rifier que le service est actif :**\n```bash\nsudo systemctl status mosquitto\n```\n\n### 2. Tests de base avec MQTT\n\n**Tester la communication locale :**\n\nDans un premier terminal SSH :\n```bash\nmosquitto_sub -h localhost -t \"test/topic\"\n```\n\nDans un deuxi√®me terminal SSH :\n```bash\nmosquitto_pub -h localhost -t \"test/topic\" -m \"Hello MQTT!\"\n```\n\nVous devriez voir le message appara√Ætre dans le premier terminal.\n\n**üí° Astuce**\nUtilisez `tmux` ou `screen` pour g√©rer plusieurs terminaux SSH simultan√©ment :\n```# Installer tmux\nsudo apt install tmux\n\n# Lancer tmux\ntmux\n\n# Cr√©er une nouvelle fen√™tre : Ctrl+b puis c\n# Naviguer entre fen√™tres : Ctrl+b puis n (next) ou p (previous)\n# D√©tacher la session : Ctrl+b puis d\n# Rattacher : tmux attach\n```\n\n### 3. Test de connexion WiFi avec l'ESP32\n\n**T√¢che :** Cr√©er un sketch Arduino simple qui teste la connexion WiFi de votre LilyGO.\n\n**Cr√©er le projet :**\n```bash\nmkdir -p ~/243-4J5-LI/labo1/wifi-test\ncd ~/243-4J5-LI/labo1/wifi-test\nnano wifi-test.ino\n```\n\n**Code de base √† adapter :**\n```cpp\n#include \n\n// √Ä REMPLACER par vos informations\nconst char* ssid = \"VOTRE_SSID\";\nconst char* password = \"VOTRE_PASSWORD\";\n\nvoid setup() {\n  Serial.begin(115200);\n  delay(1000);\n\n  Serial.println(\"Test de connexion WiFi...\");\n\n  WiFi.begin(ssid, password);\n\n  int attempts = 0;\n  while (WiFi.status() != WL_CONNECTED && attempts < 20) {\n    delay(500);\n    Serial.print(\".\");\n    attempts++;\n  }\n\n  if (WiFi.status() == WL_CONNECTED) {\n    Serial.println(\"\\nConnect√© au WiFi!\");\n    Serial.print(\"Adresse IP: \");\n    Serial.println(WiFi.localIP());\n  } else {\n    Serial.println(\"\\n√âchec de connexion WiFi\");\n  }\n}\n\nvoid loop() {\n  // Rien ici pour l'instant\n  delay(1000);\n}\n```\n\n**Compiler et t√©l√©verser :**\n```bash\narduino-cli compile --fqbn esp32:esp32:esp32 wifi-test.ino\narduino-cli upload -p /dev/ttyUSB0 --fqbn esp32:esp32:esp32 wifi-test.ino\narduino-cli monitor -p /dev/ttyUSB0 -c baudrate=115200\n```\n\n### 4. Recherche et compr√©hension\n\n**√Ä faire :**\n- üìñ Lire sur le protocole MQTT : qu'est-ce qu'un **topic**, un **QoS** (Quality of Service), un **retained message**?\n- üìñ Comprendre la diff√©rence entre **publish/subscribe** et **requ√™te/r√©ponse** (HTTP)\n- üìñ Regarder des exemples de messages MQTT au format JSON\n- üìñ Explorer la biblioth√®que Arduino **PubSubClient** (d√©j√† install√©e) : [https://pubsubclient.knolleary.net/](https://pubsubclient.knolleary.net/)\n\n### 5. Commit de votre travail\n\n```bash\ncd ~/243-4J5-LI/labo1/wifi-test\ngit add .\ncd ~/243-4J5-LI\ngit commit -m \"Pr√©paration Labo 2: installation Mosquitto et test WiFi ESP32\"\ngit push origin prenom-nom/labo1\n```\n\n**‚ö†Ô∏è Important**\n\n  - Ces t√¢ches sont **obligatoires** et facilitent grandement le prochain laboratoire\n  - Ne partagez pas vos identifiants WiFi dans le code que vous poussez sur GitHub\n  - Si vous rencontrez des probl√®mes, documentez-les pour en discuter au prochain cours\n  - Testez votre configuration avant le prochain labo pour √©viter de perdre du temps\n\n**‚úÖ √Ä remettre (facultatif mais recommand√©):**\n\n  - Capture d'√©cran du `systemctl status mosquitto` montrant le service actif\n  - Capture d'√©cran de votre test MQTT (pub/sub) fonctionnel\n  - Capture d'√©cran du moniteur s√©rie montrant la connexion WiFi r√©ussie\n  - Code du test WiFi dans votre d√©p√¥t Git",
        "simulate_stream_delay_ms": 5
      },
      "metadata": {
        "order": 42
      },
      "created_at": "2026-01-20T15:41:02.424278Z",
      "updated_at": "2026-01-20T15:41:02.424279Z"
    },
    {
      "id": 7698,
      "slug": "end-success",
      "kind": "end",
      "display_name": "Fin - Succ√®s",
      "agent_key": null,
      "parent_slug": null,
      "position": 43,
      "is_enabled": true,
      "parameters": {
        "tools": null,
        "status": {
          "type": "closed",
          "reason": "Laboratoire compl√©t√© avec succ√®s"
        },
        "message": "Laboratoire 1 termin√© avec succ√®s! Bravo!"
      },
      "metadata": {
        "order": 43
      },
      "created_at": "2026-01-20T15:41:02.424279Z",
      "updated_at": "2026-01-20T15:41:02.424280Z"
    }
  ],
  "edges": [
    {
      "id": 8516,
      "source": "start",
      "target": "assistant-message-section1",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 1
      },
      "created_at": "2026-01-20T15:41:02.432047Z",
      "updated_at": "2026-01-20T15:41:02.432051Z"
    },
    {
      "id": 8517,
      "source": "assistant-message-section1",
      "target": "widget-section1-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 2
      },
      "created_at": "2026-01-20T15:41:02.432052Z",
      "updated_at": "2026-01-20T15:41:02.432052Z"
    },
    {
      "id": 8518,
      "source": "widget-section1-done",
      "target": "condition-section1-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 3
      },
      "created_at": "2026-01-20T15:41:02.432053Z",
      "updated_at": "2026-01-20T15:41:02.432053Z"
    },
    {
      "id": 8519,
      "source": "condition-section1-done",
      "target": "assistant-message-section2",
      "condition": "true",
      "metadata": {
        "label": "true",
        "order": 4
      },
      "created_at": "2026-01-20T15:41:02.432054Z",
      "updated_at": "2026-01-20T15:41:02.432055Z"
    },
    {
      "id": 8520,
      "source": "condition-section1-done",
      "target": "end-section1-abandon",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 5
      },
      "created_at": "2026-01-20T15:41:02.432055Z",
      "updated_at": "2026-01-20T15:41:02.432056Z"
    },
    {
      "id": 8521,
      "source": "assistant-message-section2",
      "target": "widget-section2-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 6
      },
      "created_at": "2026-01-20T15:41:02.432056Z",
      "updated_at": "2026-01-20T15:41:02.432057Z"
    },
    {
      "id": 8522,
      "source": "widget-section2-done",
      "target": "condition-section2-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 7
      },
      "created_at": "2026-01-20T15:41:02.432057Z",
      "updated_at": "2026-01-20T15:41:02.432058Z"
    },
    {
      "id": 8523,
      "source": "condition-section2-done",
      "target": "assistant-message-section3",
      "condition": "true",
      "metadata": {
        "label": "true",
        "order": 8
      },
      "created_at": "2026-01-20T15:41:02.432058Z",
      "updated_at": "2026-01-20T15:41:02.432059Z"
    },
    {
      "id": 8524,
      "source": "condition-section2-done",
      "target": "end-section2-abandon",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 9
      },
      "created_at": "2026-01-20T15:41:02.432059Z",
      "updated_at": "2026-01-20T15:41:02.432060Z"
    },
    {
      "id": 8525,
      "source": "assistant-message-section3",
      "target": "widget-section3-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 10
      },
      "created_at": "2026-01-20T15:41:02.432060Z",
      "updated_at": "2026-01-20T15:41:02.432061Z"
    },
    {
      "id": 8526,
      "source": "widget-section3-done",
      "target": "condition-section3-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 11
      },
      "created_at": "2026-01-20T15:41:02.432061Z",
      "updated_at": "2026-01-20T15:41:02.432062Z"
    },
    {
      "id": 8527,
      "source": "condition-section3-done",
      "target": "assistant-message-section4",
      "condition": "true",
      "metadata": {
        "label": "true",
        "order": 12
      },
      "created_at": "2026-01-20T15:41:02.432062Z",
      "updated_at": "2026-01-20T15:41:02.432063Z"
    },
    {
      "id": 8528,
      "source": "condition-section3-done",
      "target": "end-section3-abandon",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 13
      },
      "created_at": "2026-01-20T15:41:02.432064Z",
      "updated_at": "2026-01-20T15:41:02.432064Z"
    },
    {
      "id": 8529,
      "source": "assistant-message-section4",
      "target": "widget-section4-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 14
      },
      "created_at": "2026-01-20T15:41:02.432065Z",
      "updated_at": "2026-01-20T15:41:02.432065Z"
    },
    {
      "id": 8530,
      "source": "widget-section4-done",
      "target": "condition-section4-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 15
      },
      "created_at": "2026-01-20T15:41:02.432066Z",
      "updated_at": "2026-01-20T15:41:02.432066Z"
    },
    {
      "id": 8531,
      "source": "condition-section4-done",
      "target": "assistant-message-section5",
      "condition": "true",
      "metadata": {
        "label": "true",
        "order": 16
      },
      "created_at": "2026-01-20T15:41:02.432067Z",
      "updated_at": "2026-01-20T15:41:02.432067Z"
    },
    {
      "id": 8532,
      "source": "condition-section4-done",
      "target": "end-section4-abandon",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 17
      },
      "created_at": "2026-01-20T15:41:02.432068Z",
      "updated_at": "2026-01-20T15:41:02.432068Z"
    },
    {
      "id": 8533,
      "source": "assistant-message-section5",
      "target": "widget-section5-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 18
      },
      "created_at": "2026-01-20T15:41:02.432069Z",
      "updated_at": "2026-01-20T15:41:02.432069Z"
    },
    {
      "id": 8534,
      "source": "widget-section5-done",
      "target": "condition-section5-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 19
      },
      "created_at": "2026-01-20T15:41:02.432070Z",
      "updated_at": "2026-01-20T15:41:02.432070Z"
    },
    {
      "id": 8535,
      "source": "condition-section5-done",
      "target": "assistant-message-section6",
      "condition": "true",
      "metadata": {
        "label": "true",
        "order": 20
      },
      "created_at": "2026-01-20T15:41:02.432071Z",
      "updated_at": "2026-01-20T15:41:02.432072Z"
    },
    {
      "id": 8536,
      "source": "condition-section5-done",
      "target": "end-section5-abandon",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 21
      },
      "created_at": "2026-01-20T15:41:02.432072Z",
      "updated_at": "2026-01-20T15:41:02.432073Z"
    },
    {
      "id": 8537,
      "source": "assistant-message-section6",
      "target": "widget-section6-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 22
      },
      "created_at": "2026-01-20T15:41:02.432073Z",
      "updated_at": "2026-01-20T15:41:02.432074Z"
    },
    {
      "id": 8538,
      "source": "widget-section6-done",
      "target": "condition-section6-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 23
      },
      "created_at": "2026-01-20T15:41:02.432075Z",
      "updated_at": "2026-01-20T15:41:02.432075Z"
    },
    {
      "id": 8539,
      "source": "condition-section6-done",
      "target": "assistant-message-section7",
      "condition": "true",
      "metadata": {
        "label": "true",
        "order": 24
      },
      "created_at": "2026-01-20T15:41:02.432076Z",
      "updated_at": "2026-01-20T15:41:02.432076Z"
    },
    {
      "id": 8540,
      "source": "condition-section6-done",
      "target": "end-section6-abandon",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 25
      },
      "created_at": "2026-01-20T15:41:02.432077Z",
      "updated_at": "2026-01-20T15:41:02.432077Z"
    },
    {
      "id": 8541,
      "source": "assistant-message-section7",
      "target": "widget-section7-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 26
      },
      "created_at": "2026-01-20T15:41:02.432078Z",
      "updated_at": "2026-01-20T15:41:02.432078Z"
    },
    {
      "id": 8542,
      "source": "widget-section7-done",
      "target": "condition-section7-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 27
      },
      "created_at": "2026-01-20T15:41:02.432079Z",
      "updated_at": "2026-01-20T15:41:02.432080Z"
    },
    {
      "id": 8543,
      "source": "condition-section7-done",
      "target": "assistant-message-section8",
      "condition": "true",
      "metadata": {
        "label": "true",
        "order": 28
      },
      "created_at": "2026-01-20T15:41:02.432080Z",
      "updated_at": "2026-01-20T15:41:02.432081Z"
    },
    {
      "id": 8544,
      "source": "condition-section7-done",
      "target": "end-section7-abandon",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 29
      },
      "created_at": "2026-01-20T15:41:02.432081Z",
      "updated_at": "2026-01-20T15:41:02.432082Z"
    },
    {
      "id": 8545,
      "source": "assistant-message-section8",
      "target": "widget-section8-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 30
      },
      "created_at": "2026-01-20T15:41:02.432083Z",
      "updated_at": "2026-01-20T15:41:02.432083Z"
    },
    {
      "id": 8546,
      "source": "widget-section8-done",
      "target": "condition-section8-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 31
      },
      "created_at": "2026-01-20T15:41:02.432084Z",
      "updated_at": "2026-01-20T15:41:02.432084Z"
    },
    {
      "id": 8547,
      "source": "condition-section8-done",
      "target": "assistant-message-section9",
      "condition": "true",
      "metadata": {
        "label": "true",
        "order": 32
      },
      "created_at": "2026-01-20T15:41:02.432085Z",
      "updated_at": "2026-01-20T15:41:02.432085Z"
    },
    {
      "id": 8548,
      "source": "condition-section8-done",
      "target": "end-section8-abandon",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 33
      },
      "created_at": "2026-01-20T15:41:02.432086Z",
      "updated_at": "2026-01-20T15:41:02.432086Z"
    },
    {
      "id": 8549,
      "source": "assistant-message-section9",
      "target": "widget-section9-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 34
      },
      "created_at": "2026-01-20T15:41:02.432087Z",
      "updated_at": "2026-01-20T15:41:02.432087Z"
    },
    {
      "id": 8550,
      "source": "widget-section9-done",
      "target": "condition-section9-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 35
      },
      "created_at": "2026-01-20T15:41:02.432088Z",
      "updated_at": "2026-01-20T15:41:02.432088Z"
    },
    {
      "id": 8551,
      "source": "condition-section9-done",
      "target": "assistant-message-section10",
      "condition": "true",
      "metadata": {
        "label": "true",
        "order": 36
      },
      "created_at": "2026-01-20T15:41:02.432089Z",
      "updated_at": "2026-01-20T15:41:02.432089Z"
    },
    {
      "id": 8552,
      "source": "condition-section9-done",
      "target": "end-section9-abandon",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 37
      },
      "created_at": "2026-01-20T15:41:02.432090Z",
      "updated_at": "2026-01-20T15:41:02.432090Z"
    },
    {
      "id": 8553,
      "source": "assistant-message-section10",
      "target": "widget-section10-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 38
      },
      "created_at": "2026-01-20T15:41:02.432091Z",
      "updated_at": "2026-01-20T15:41:02.432091Z"
    },
    {
      "id": 8554,
      "source": "widget-section10-done",
      "target": "condition-section10-done",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 39
      },
      "created_at": "2026-01-20T15:41:02.432092Z",
      "updated_at": "2026-01-20T15:41:02.432092Z"
    },
    {
      "id": 8555,
      "source": "condition-section10-done",
      "target": "assistant-message-section11",
      "condition": "true",
      "metadata": {
        "label": "true",
        "order": 40
      },
      "created_at": "2026-01-20T15:41:02.432093Z",
      "updated_at": "2026-01-20T15:41:02.432094Z"
    },
    {
      "id": 8556,
      "source": "condition-section10-done",
      "target": "end-section10-abandon",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 41
      },
      "created_at": "2026-01-20T15:41:02.432094Z",
      "updated_at": "2026-01-20T15:41:02.432095Z"
    },
    {
      "id": 8557,
      "source": "assistant-message-section11",
      "target": "end-success",
      "condition": null,
      "metadata": {
        "label": "",
        "order": 42
      },
      "created_at": "2026-01-20T15:41:02.432095Z",
      "updated_at": "2026-01-20T15:41:02.432096Z"
    }
  ]
}